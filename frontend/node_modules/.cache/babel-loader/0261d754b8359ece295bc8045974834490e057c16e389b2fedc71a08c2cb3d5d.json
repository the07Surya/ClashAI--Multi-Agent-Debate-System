{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SuryaPratapRout\\\\OneDrive - GyanSys Inc\\\\Desktop\\\\Apex\\\\Chimera-Debate\\\\Chimera-Clue\\\\frontend\\\\src\\\\components\\\\DebateInterface.jsx\",\n  _s = $RefreshSig$();\n// import React, { useState, useEffect, useRef } from 'react';\n// import { motion, AnimatePresence } from 'framer-motion';\n// import { \n//   ArrowPathIcon, \n//   PlayIcon,\n//   PauseIcon,\n//   SparklesIcon,\n//   BoltIcon,\n//   RocketLaunchIcon\n// } from '@heroicons/react/24/outline';\n\n// import useWebSocket from '../hooks/useWebSocket';\n// import ResearchPanel from './ResearchPanel';\n// import AgentPanel from './AgentPanel';\n// import JudgePanel from './JudgePanel';\n// import FinalReport from './FinalReport';\n\n// const DebateInterface = () => {\n//   const [query, setQuery] = useState('');\n//   const [sessionId] = useState(() => `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`);\n//   const [debateState, setDebateState] = useState({\n//     status: 'idle',\n//     researchBrief: null,\n//     agentMessages: [],\n//     judgeDecisions: [],\n//     finalReport: null,\n//     currentRound: 0,\n//     activeAgents: new Set(),\n//     startTime: null\n//   });\n\n//   const messagesEndRef = useRef(null);\n//   const { isConnected, messages, sendMessage, clearMessages, connectionStatus } = useWebSocket(\n//     `ws://localhost:8000/debate/${sessionId}`\n//   );\n\n//   // FIX: This ref tracks how many messages we've already processed. It's essential\n//   // for correctly handling messages that arrive in quick batches.\n//   const processedMessagesCount = useRef(0);\n\n//   // Auto-scroll to bottom on new messages\n//   const scrollToBottom = () => {\n//     messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n//   };\n\n//   useEffect(() => {\n//     scrollToBottom();\n//   }, [debateState.agentMessages, debateState.finalReport]);\n\n//   // FIX: Replaced the faulty message handler with a robust batch-processing logic.\n//   // This ensures that no messages are dropped, solving the \"No neural activity\" issue.\n//   useEffect(() => {\n//     const newMessages = messages.slice(processedMessagesCount.current);\n//     if (newMessages.length === 0) return;\n\n//     setDebateState(prev => {\n//       const newState = { \n//         ...prev,\n//         agentMessages: [...prev.agentMessages],\n//         judgeDecisions: [...prev.judgeDecisions],\n//       };\n\n//       newMessages.forEach(message => {\n//         const messageExists = \n//           newState.agentMessages.some(m => m.id === message.id) ||\n//           newState.judgeDecisions.some(d => d.id === message.id);\n\n//         if (messageExists) return;\n\n//         switch (message.type) {\n//           case 'research_complete':\n//             newState.status = 'research_complete';\n//             newState.researchBrief = message.data.brief;\n//             break;\n//           case 'agent_response':\n//             newState.status = 'debating';\n//             newState.agentMessages.push(message);\n//             newState.currentRound = Math.max(newState.currentRound, message.data.round || 1);\n//             newState.activeAgents = new Set();\n//             break;\n//           case 'judge_decision':\n//             newState.status = 'judge_deciding';\n//             newState.judgeDecisions.push(message);\n//             break;\n//           case 'final_report':\n//             newState.status = 'complete';\n//             newState.finalReport = message.data;\n//             break;\n//           case 'debate_complete':\n//             newState.status = 'complete';\n//             break;\n//           case 'error':\n//             console.error('Debate error:', message.message);\n//             newState.status = 'error';\n//             break;\n//           default:\n//             if (message.type === 'round_start') {\n//               newState.currentRound = message.data.round;\n//               newState.status = 'debating';\n//             }\n//             console.log('Received message:', message.type, message.data);\n//             break;\n//         }\n//       });\n\n//       return newState;\n//     });\n\n//     processedMessagesCount.current = messages.length;\n//   }, [messages]);\n\n//   const startDebate = () => {\n//     if (!query.trim() || !isConnected) return;\n\n//     clearMessages();\n//     processedMessagesCount.current = 0; // Reset counter on new debate\n//     setDebateState({\n//       status: 'starting',\n//       researchBrief: null,\n//       agentMessages: [],\n//       judgeDecisions: [],\n//       finalReport: null,\n//       currentRound: 0,\n//       activeAgents: new Set(['researcher']),\n//       startTime: new Date()\n//     });\n\n//     const success = sendMessage({\n//       type: 'start_debate',\n//       query: query\n//     });\n\n//     if (success) {\n//       setDebateState(prev => ({ ...prev, status: 'researching' }));\n//     }\n//   };\n\n//   const resetDebate = () => {\n//     setQuery('');\n//     clearMessages();\n//     processedMessagesCount.current = 0; // Reset counter on reset\n//     setDebateState({\n//       status: 'idle',\n//       researchBrief: null,\n//       agentMessages: [],\n//       judgeDecisions: [],\n//       finalReport: null,\n//       currentRound: 0,\n//       activeAgents: new Set(),\n//       startTime: null\n//     });\n//   };\n\n//   const getStatusConfig = () => {\n//     const configs = {\n//       idle: { \n//         message: 'Ready to unleash the power of AI debate', \n//         color: 'text-slate-700',\n//         bgColor: 'bg-gradient-to-r from-slate-100 to-gray-100',\n//         borderColor: 'border-slate-300',\n//         icon: 'ðŸ§ ',\n//         glow: 'shadow-slate-200/50'\n//       },\n//       starting: { \n//         message: 'Initializing neural debate matrix...', \n//         color: 'text-cyan-700',\n//         bgColor: 'bg-gradient-to-r from-cyan-100 to-blue-100',\n//         borderColor: 'border-cyan-300',\n//         icon: 'âš¡',\n//         glow: 'shadow-cyan-300/60'\n//       },\n//       researching: { \n//         message: 'AI researcher scanning global knowledge...', \n//         color: 'text-blue-700',\n//         bgColor: 'bg-gradient-to-r from-blue-100 to-indigo-100',\n//         borderColor: 'border-blue-300',\n//         icon: 'ðŸ”',\n//         glow: 'shadow-blue-300/60'\n//       },\n//       research_complete: { \n//         message: 'Knowledge acquired. Experts awakening...', \n//         color: 'text-emerald-700',\n//         bgColor: 'bg-gradient-to-r from-emerald-100 to-green-100',\n//         borderColor: 'border-emerald-300',\n//         icon: 'âœ¨',\n//         glow: 'shadow-emerald-300/60'\n//       },\n//       debating: { \n//         message: `Round ${debateState.currentRound} â€¢ Neural combat engaged`, \n//         color: 'text-purple-700',\n//         bgColor: 'bg-gradient-to-r from-purple-100 to-pink-100',\n//         borderColor: 'border-purple-300',\n//         icon: 'ðŸŽ¯',\n//         glow: 'shadow-purple-300/60'\n//       },\n//       judge_deciding: { \n//         message: 'Supreme Judge evaluating neural patterns...', \n//         color: 'text-amber-700',\n//         bgColor: 'bg-gradient-to-r from-amber-100 to-orange-100',\n//         borderColor: 'border-amber-300',\n//         icon: 'âš–ï¸',\n//         glow: 'shadow-amber-300/60'\n//       },\n//       moderating: { \n//         message: 'Synthesizing collective intelligence...', \n//         color: 'text-indigo-700',\n//         bgColor: 'bg-gradient-to-r from-indigo-100 to-violet-100',\n//         borderColor: 'border-indigo-300',\n//         icon: 'ðŸ§¬',\n//         glow: 'shadow-indigo-300/60'\n//       },\n//       complete: { \n//         message: 'Debate matrix complete â€¢ Insights extracted', \n//         color: 'text-emerald-700',\n//         bgColor: 'bg-gradient-to-r from-emerald-100 to-green-100',\n//         borderColor: 'border-emerald-300',\n//         icon: 'ðŸŽ‰',\n//         glow: 'shadow-emerald-300/60'\n//       },\n//       error: { \n//         message: 'Neural network disruption detected', \n//         color: 'text-red-700',\n//         bgColor: 'bg-gradient-to-r from-red-100 to-pink-100',\n//         borderColor: 'border-red-300',\n//         icon: 'âš ï¸',\n//         glow: 'shadow-red-300/60'\n//       }\n//     };\n//     return configs[debateState.status] || configs.idle;\n//   };\n\n//   const isDebateActive = ['starting', 'researching', 'research_complete', 'debating', 'judge_deciding', 'moderating'].includes(debateState.status);\n//   const statusConfig = getStatusConfig();\n\n//   const getConnectionStatusConfig = () => {\n//     const configs = {\n//       connected: { \n//         color: 'bg-emerald-500', \n//         text: 'Neural Link Active', \n//         textColor: 'text-emerald-800',\n//         bgColor: 'bg-emerald-50',\n//         borderColor: 'border-emerald-200' \n//       },\n//       connecting: { \n//         color: 'bg-amber-500', \n//         text: 'Establishing Link...', \n//         textColor: 'text-amber-800',\n//         bgColor: 'bg-amber-50',\n//         borderColor: 'border-amber-200' \n//       },\n//       reconnecting: { \n//         color: 'bg-amber-500', \n//         text: 'Reconnecting Neural Link...', \n//         textColor: 'text-amber-800',\n//         bgColor: 'bg-amber-50',\n//         borderColor: 'border-amber-200' \n//       },\n//       disconnected: { \n//         color: 'bg-red-500', \n//         text: 'Neural Link Offline', \n//         textColor: 'text-red-800',\n//         bgColor: 'bg-red-50',\n//         borderColor: 'border-red-200' \n//       },\n//       error: { \n//         color: 'bg-red-500', \n//         text: 'Connection Error', \n//         textColor: 'text-red-800',\n//         bgColor: 'bg-red-50',\n//         borderColor: 'border-red-200' \n//       },\n//       failed: { \n//         color: 'bg-red-500', \n//         text: 'Link Failed', \n//         textColor: 'text-red-800',\n//         bgColor: 'bg-red-50',\n//         borderColor: 'border-red-200' \n//       }\n//     };\n//     return configs[connectionStatus] || configs.disconnected;\n//   };\n\n//   const connectionConfig = getConnectionStatusConfig();\n\n//   return (\n//     <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative overflow-hidden\">\n//       {/* Animated Background Elements */}\n//       <div className=\"absolute inset-0 overflow-hidden\">\n//         <div className=\"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob\"></div>\n//         <div className=\"absolute -bottom-40 -left-40 w-80 h-80 bg-cyan-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000\"></div>\n//         <div className=\"absolute top-40 left-1/2 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000\"></div>\n\n//         {/* Neural Network Grid */}\n//         <div className=\"absolute inset-0 bg-gradient-to-br from-transparent via-cyan-500/5 to-transparent\"></div>\n//         <div className=\"absolute inset-0\" style={{\n//           backgroundImage: `radial-gradient(circle at 1px 1px, rgba(99, 102, 241, 0.1) 1px, transparent 0)`,\n//           backgroundSize: '20px 20px'\n//         }}></div>\n//       </div>\n\n//       <div className=\"relative z-10 max-w-7xl mx-auto p-6 space-y-8\">\n\n//         {/* Stunning Header */}\n//         <motion.div \n//           initial={{ opacity: 0, y: -30 }}\n//           animate={{ opacity: 1, y: 0 }}\n//           transition={{ duration: 0.8, ease: \"easeOut\" }}\n//           className=\"text-center py-12\"\n//         >\n//           <div className=\"relative\">\n//             <motion.h1 \n//               className=\"text-7xl md:text-8xl font-black bg-gradient-to-r from-cyan-400 via-purple-400 to-pink-400 bg-clip-text text-transparent mb-4 tracking-tight\"\n//               initial={{ scale: 0.9, opacity: 0 }}\n//               animate={{ scale: 1, opacity: 1 }}\n//               transition={{ duration: 1, ease: \"easeOut\" }}\n//             >\n//               Chimera\n//             </motion.h1>\n\n//             <motion.div\n//               className=\"absolute -top-4 -right-4 text-4xl\"\n//               animate={{ \n//                 rotate: [0, 10, -10, 0],\n//                 scale: [1, 1.1, 1]\n//               }}\n//               transition={{ \n//                 duration: 2,\n//                 repeat: Infinity,\n//                 ease: \"easeInOut\"\n//               }}\n//             >\n//               âš¡\n//             </motion.div>\n//           </div>\n\n//           <motion.div\n//             initial={{ opacity: 0, y: 20 }}\n//             animate={{ opacity: 1, y: 0 }}\n//             transition={{ delay: 0.5, duration: 0.6 }}\n//             className=\"space-y-4\"\n//           >\n//             <p className=\"text-2xl md:text-3xl text-slate-300 font-bold tracking-wide\">\n//               Neural Multi-Agent Debate System\n//             </p>\n//             <p className=\"text-lg text-slate-400 max-w-2xl mx-auto leading-relaxed\">\n//               Unleash the collective intelligence of AI experts in epic debates that reshape understanding\n//             </p>\n\n//             <div className=\"flex items-center justify-center space-x-6 mt-6\">\n//               <div className=\"flex items-center space-x-2 text-cyan-400\">\n//                 <SparklesIcon className=\"h-5 w-5\" />\n//                 <span className=\"text-sm font-medium\">AI-Powered</span>\n//               </div>\n//               <div className=\"flex items-center space-x-2 text-purple-400\">\n//                 <BoltIcon className=\"h-5 w-5\" />\n//                 <span className=\"text-sm font-medium\">Real-Time</span>\n//               </div>\n//               <div className=\"flex items-center space-x-2 text-pink-400\">\n//                 <RocketLaunchIcon className=\"h-5 w-5\" />\n//                 <span className=\"text-sm font-medium\">Cutting-Edge</span>\n//               </div>\n//             </div>\n//           </motion.div>\n//         </motion.div>\n\n//         {/* Futuristic Query Input Section */}\n//         <motion.div \n//           initial={{ opacity: 0, y: 30 }}\n//           animate={{ opacity: 1, y: 0 }}\n//           transition={{ delay: 0.3, duration: 0.8 }}\n//           className=\"relative\"\n//         >\n//           <div className=\"bg-gradient-to-r from-slate-800/80 via-slate-900/90 to-slate-800/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-slate-700/50 p-8\">\n//             <div className=\"absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-purple-500/10 to-pink-500/10 rounded-3xl blur-xl\"></div>\n\n//             <div className=\"relative space-y-6\">\n//               <div className=\"flex flex-col lg:flex-row gap-4\">\n//                 <div className=\"flex-1 relative group\">\n//                   <input\n//                     type=\"text\"\n//                     value={query}\n//                     onChange={(e) => setQuery(e.target.value)}\n//                     placeholder=\"Enter your complex question or debate topic...\"\n//                     className=\"w-full p-6 pl-16 bg-gradient-to-r from-slate-900/50 to-slate-800/50 border-2 border-slate-600/50 rounded-2xl focus:ring-4 focus:ring-purple-500/30 focus:border-purple-500/50 transition-all duration-300 text-white placeholder-slate-400 text-lg font-medium backdrop-blur-sm group-hover:border-slate-500/70\"\n//                     disabled={isDebateActive}\n//                     onKeyPress={(e) => e.key === 'Enter' && !isDebateActive && startDebate()}\n//                   />\n//                   <div className=\"absolute left-6 top-1/2 transform -translate-y-1/2 text-slate-400 group-hover:text-cyan-400 transition-colors duration-300\">\n//                     <motion.div\n//                       animate={{ scale: [1, 1.1, 1] }}\n//                       transition={{ duration: 2, repeat: Infinity, ease: \"easeInOut\" }}\n//                     >\n//                       ðŸ§ \n//                     </motion.div>\n//                   </div>\n//                 </div>\n\n//                 <div className=\"flex space-x-4\">\n//                   <motion.button\n//                     whileHover={{ scale: 1.02, boxShadow: \"0 20px 40px -12px rgba(139, 92, 246, 0.3)\" }}\n//                     whileTap={{ scale: 0.98 }}\n//                     onClick={startDebate}\n//                     disabled={!query.trim() || !isConnected || isDebateActive}\n//                     className=\"px-8 py-6 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-2xl hover:from-purple-700 hover:to-pink-700 disabled:from-slate-600 disabled:to-slate-700 disabled:cursor-not-allowed transition-all duration-300 flex items-center space-x-3 font-bold text-lg shadow-xl border border-purple-500/50\"\n//                   >\n//                     {isDebateActive ? (\n//                       <>\n//                         <motion.div\n//                           animate={{ rotate: 360 }}\n//                           transition={{ duration: 1, repeat: Infinity, ease: \"linear\" }}\n//                         >\n//                           <PauseIcon className=\"h-6 w-6\" />\n//                         </motion.div>\n//                         <span>Neural Active</span>\n//                       </>\n//                     ) : (\n//                       <>\n//                         <PlayIcon className=\"h-6 w-6\" />\n//                         <span>Ignite Debate</span>\n//                       </>\n//                     )}\n//                   </motion.button>\n\n//                   <motion.button\n//                     whileHover={{ scale: 1.02 }}\n//                     whileTap={{ scale: 0.98 }}\n//                     onClick={resetDebate}\n//                     disabled={isDebateActive}\n//                     className=\"px-6 py-6 bg-gradient-to-r from-slate-700 to-slate-800 text-slate-300 rounded-2xl hover:from-slate-600 hover:to-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center space-x-3 font-semibold shadow-xl border border-slate-600/50\"\n//                   >\n//                     <ArrowPathIcon className=\"h-6 w-6\" />\n//                     <span>Reset</span>\n//                   </motion.button>\n//                 </div>\n//               </div>\n//             </div>\n//           </div>\n//         </motion.div>\n\n//         {/* Futuristic Status Bar */}\n//         <motion.div \n//           initial={{ opacity: 0 }}\n//           animate={{ opacity: 1 }}\n//           transition={{ delay: 0.6, duration: 0.6 }}\n//           className=\"flex flex-col sm:flex-row items-center justify-between gap-4\"\n//         >\n//           <motion.div \n//             className={`inline-flex items-center px-6 py-3 rounded-2xl font-bold text-sm border-2 backdrop-blur-sm ${statusConfig.bgColor} ${statusConfig.color} ${statusConfig.borderColor} ${statusConfig.glow} shadow-xl`}\n//             animate={{ \n//               boxShadow: isDebateActive ? \n//                 [\"0 0 20px rgba(139, 92, 246, 0.3)\", \"0 0 40px rgba(139, 92, 246, 0.5)\", \"0 0 20px rgba(139, 92, 246, 0.3)\"] :\n//                 \"0 0 20px rgba(0, 0, 0, 0.1)\"\n//             }}\n//             transition={{ duration: 2, repeat: Infinity }}\n//           >\n//             <motion.span \n//               className=\"mr-3 text-lg\"\n//               animate={isDebateActive ? { \n//                 scale: [1, 1.2, 1],\n//                 rotate: [0, 5, -5, 0]\n//               } : {}}\n//               transition={{ duration: 1, repeat: Infinity }}\n//             >\n//               {statusConfig.icon}\n//             </motion.span>\n//             {statusConfig.message}\n//           </motion.div>\n\n//           <motion.div \n//             className={`inline-flex items-center px-4 py-2 rounded-xl text-sm font-bold border-2 backdrop-blur-sm ${connectionConfig.bgColor} ${connectionConfig.textColor} ${connectionConfig.borderColor} shadow-lg`}\n//             animate={{ opacity: [0.8, 1, 0.8] }}\n//             transition={{ duration: 2, repeat: Infinity }}\n//           >\n//             <motion.div \n//               className={`w-3 h-3 rounded-full mr-3 ${connectionConfig.color}`}\n//               animate={connectionStatus === 'connecting' || connectionStatus === 'reconnecting' ? \n//                 { scale: [1, 1.3, 1] } : {}\n//               }\n//               transition={{ duration: 0.8, repeat: Infinity }}\n//             />\n//             {connectionConfig.text}\n//           </motion.div>\n//         </motion.div>\n\n//         {/* Research Phase */}\n//         <AnimatePresence>\n//           {(debateState.status === 'researching' || debateState.researchBrief) && (\n//             <ResearchPanel \n//               researchBrief={debateState.researchBrief} \n//               isLoading={debateState.status === 'researching'}\n//             />\n//           )}\n//         </AnimatePresence>\n\n//         {/* Judge Decisions */}\n//         <AnimatePresence>\n//           {debateState.judgeDecisions.length > 0 && (\n//             <JudgePanel judgeDecisions={debateState.judgeDecisions} />\n//           )}\n//         </AnimatePresence>\n\n//         {/* Expert Agents Grid */}\n//         <AnimatePresence>\n//           {(debateState.status === 'debating' || debateState.agentMessages.length > 0 || debateState.status === 'research_complete') && (\n//             <motion.div \n//               initial={{ opacity: 0, y: 30 }}\n//               animate={{ opacity: 1, y: 0 }}\n//               transition={{ delay: 0.2, duration: 0.8 }}\n//               className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6\"\n//             >\n//               {['innovator', 'skeptic', 'engineer', 'ethicist'].map((agent, index) => (\n//                 <motion.div\n//                   key={agent}\n//                   initial={{ opacity: 0, y: 50, rotateX: -15 }}\n//                   animate={{ opacity: 1, y: 0, rotateX: 0 }}\n//                   transition={{ delay: 0.1 * index, duration: 0.6, type: \"spring\" }}\n//                 >\n//                   <AgentPanel\n//                     agent={agent}\n//                     messages={debateState.agentMessages}\n//                     currentRound={debateState.currentRound}\n//                     isActive={debateState.activeAgents.has(agent)}\n//                     debateStatus={debateState.status}\n//                   />\n//                 </motion.div>\n//               ))}\n//             </motion.div>\n//           )}\n//         </AnimatePresence>\n\n//         {/* Final Report */}\n//         <AnimatePresence>\n//           {debateState.finalReport && (\n//             <FinalReport report={debateState.finalReport} />\n//           )}\n//         </AnimatePresence>\n\n//         {/* Scroll marker */}\n//         <div ref={messagesEndRef} />\n\n//         {/* Futuristic Debug Panel */}\n//         {process.env.NODE_ENV === 'development' && (\n//           <motion.div \n//             initial={{ opacity: 0, y: 20 }}\n//             animate={{ opacity: 1, y: 0 }}\n//             className=\"bg-gradient-to-r from-slate-900/90 to-slate-800/90 backdrop-blur-xl text-cyan-400 p-6 rounded-2xl font-mono text-xs space-y-2 border border-slate-700/50 shadow-2xl\"\n//           >\n//             <div className=\"text-cyan-300 font-bold mb-3 flex items-center\">\n//               <div className=\"w-2 h-2 bg-cyan-400 rounded-full mr-2 animate-pulse\"></div>\n//               Neural Debug Console\n//             </div>\n//             <div className=\"grid grid-cols-2 gap-4\">\n//               <div>Session: <span className=\"text-purple-400\">{sessionId}</span></div>\n//               <div>Status: <span className=\"text-green-400\">{debateState.status}</span></div>\n//               <div>Messages: <span className=\"text-yellow-400\">{messages.length}</span></div>\n//               <div>Round: <span className=\"text-pink-400\">{debateState.currentRound}</span></div>\n//               <div>Connection: <span className=\"text-blue-400\">{connectionStatus}</span></div>\n//               <div>Agents: <span className=\"text-indigo-400\">{debateState.agentMessages.length}</span></div>\n//             </div>\n//             {debateState.startTime && (\n//               <div className=\"text-center pt-2 border-t border-slate-700\">\n//                 Duration: <span className=\"text-emerald-400 font-bold\">\n//                   {Math.round((new Date() - debateState.startTime) / 1000)}s\n//                 </span>\n//               </div>\n//             )}\n//           </motion.div>\n//         )}\n//       </div>\n\n//       {/* Floating Particles Effect */}\n//       <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n//         {[...Array(20)].map((_, i) => (\n//           <motion.div\n//             key={i}\n//             className=\"absolute w-1 h-1 bg-cyan-400/30 rounded-full\"\n//             initial={{ \n//               x: Math.random() * window.innerWidth,\n//               y: window.innerHeight + 10,\n//               opacity: 0 \n//             }}\n//             animate={{ \n//               y: -10,\n//               opacity: [0, 1, 0],\n//               scale: [0, 1, 0]\n//             }}\n//             transition={{\n//               duration: Math.random() * 10 + 10,\n//               repeat: Infinity,\n//               delay: Math.random() * 5,\n//               ease: \"easeOut\"\n//             }}\n//           />\n//         ))}\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default DebateInterface;\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { ArrowPathIcon, PlayIcon, PauseIcon, SparklesIcon, BoltIcon, RocketLaunchIcon, ScaleIcon, CheckCircleIcon, XCircleIcon, DocumentTextIcon, UserIcon } from '@heroicons/react/24/outline';\nimport useWebSocket from '../hooks/useWebSocket';\nimport ResearchPanel from './ResearchPanel';\nimport FinalReport from './FinalReport';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst getAgentConfig = agentType => {\n  const configs = {\n    innovator: {\n      name: 'Alex Chen',\n      title: 'The Innovator',\n      avatar: 'ðŸš€',\n      colors: {\n        primary: 'text-emerald-400',\n        bg: 'bg-gradient-to-r from-emerald-500/20 to-green-500/20',\n        border: 'border-emerald-500/40',\n        accent: 'bg-emerald-500/10',\n        glow: 'shadow-emerald-500/30'\n      }\n    },\n    skeptic: {\n      name: 'Dr. Sarah Reeves',\n      title: 'The Skeptic',\n      avatar: 'ðŸ›¡ï¸',\n      colors: {\n        primary: 'text-red-400',\n        bg: 'bg-gradient-to-r from-red-500/20 to-rose-500/20',\n        border: 'border-red-500/40',\n        accent: 'bg-red-500/10',\n        glow: 'shadow-red-500/30'\n      }\n    },\n    engineer: {\n      name: 'Marcus Torres',\n      title: 'The Engineer',\n      avatar: 'âš™ï¸',\n      colors: {\n        primary: 'text-blue-400',\n        bg: 'bg-gradient-to-r from-blue-500/20 to-cyan-500/20',\n        border: 'border-blue-500/40',\n        accent: 'bg-blue-500/10',\n        glow: 'shadow-blue-500/30'\n      }\n    },\n    ethicist: {\n      name: 'Dr. Amara Okafor',\n      title: 'The Ethicist',\n      avatar: 'âš–ï¸',\n      colors: {\n        primary: 'text-purple-400',\n        bg: 'bg-gradient-to-r from-purple-500/20 to-indigo-500/20',\n        border: 'border-purple-500/40',\n        accent: 'bg-purple-500/10',\n        glow: 'shadow-purple-500/30'\n      }\n    },\n    judge: {\n      name: 'Supreme AI Judge',\n      title: 'Neutral Arbitrator',\n      avatar: 'ðŸ‘¨â€âš–ï¸',\n      colors: {\n        primary: 'text-amber-400',\n        bg: 'bg-gradient-to-r from-amber-500/20 to-yellow-500/20',\n        border: 'border-amber-500/40',\n        accent: 'bg-amber-500/10',\n        glow: 'shadow-amber-500/30'\n      }\n    }\n  };\n  return configs[agentType] || configs.innovator;\n};\nconst ChatMessage = ({\n  message,\n  isTyping = false\n}) => {\n  var _message$data, _message$data2, _message$data3, _message$data4;\n  const isJudge = message.type === 'judge_decision';\n  const agentType = isJudge ? 'judge' : (_message$data = message.data) === null || _message$data === void 0 ? void 0 : _message$data.role;\n  const config = getAgentConfig(agentType);\n  if (isJudge) {\n    return /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0,\n        y: 20,\n        scale: 0.95\n      },\n      animate: {\n        opacity: 1,\n        y: 0,\n        scale: 1\n      },\n      transition: {\n        duration: 0.5,\n        type: \"spring\"\n      },\n      className: \"flex justify-center mb-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-4xl w-full\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${config.colors.bg} backdrop-blur-sm rounded-3xl p-6 border-2 ${config.colors.border} relative overflow-hidden`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 bg-gradient-to-r from-amber-500/10 via-yellow-500/10 to-orange-500/10 animate-pulse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 705,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative z-10\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3\",\n                children: [/*#__PURE__*/_jsxDEV(motion.div, {\n                  className: \"text-3xl\",\n                  animate: {\n                    scale: [1, 1.1, 1]\n                  },\n                  transition: {\n                    duration: 2,\n                    repeat: Infinity\n                  },\n                  children: config.avatar\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 710,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: `font-black text-lg ${config.colors.primary}`,\n                    children: config.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 718,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-amber-300 text-sm font-medium\",\n                    children: config.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 721,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 717,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 709,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `flex items-center space-x-3 px-4 py-2 rounded-xl font-bold text-sm border-2 ${message.data.should_continue ? 'bg-green-500/20 text-green-300 border-green-500/40' : 'bg-red-500/20 text-red-300 border-red-500/40'}`,\n                children: message.data.should_continue ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n                    className: \"h-5 w-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 732,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Continue Debate\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 733,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(XCircleIcon, {\n                    className: \"h-5 w-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 737,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Conclude Debate\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 738,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 725,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 708,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-slate-900/50 backdrop-blur-sm rounded-2xl p-5 border border-slate-600/30\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-start space-x-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-1 h-20 bg-gradient-to-b from-amber-400 to-yellow-400 rounded-full\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 746,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-amber-400 font-bold mb-2\",\n                    children: \"Judicial Analysis:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 748,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-slate-200 leading-relaxed font-medium\",\n                    children: message.data.reasoning\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 749,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 747,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 745,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 744,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-amber-300 text-sm font-medium bg-amber-500/20 px-3 py-1 rounded-full\",\n                children: [\"Post-Round \", message.data.round_count, \" Decision\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 757,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 756,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 707,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 703,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 702,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 696,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0,\n      y: 20,\n      x: agentType === 'innovator' || agentType === 'engineer' ? -30 : 30\n    },\n    animate: {\n      opacity: 1,\n      y: 0,\n      x: 0\n    },\n    transition: {\n      duration: 0.6,\n      type: \"spring\",\n      stiffness: 100\n    },\n    className: `flex ${agentType === 'innovator' || agentType === 'engineer' ? 'justify-start' : 'justify-end'} mb-6`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `max-w-3xl ${agentType === 'innovator' || agentType === 'engineer' ? 'mr-12' : 'ml-12'}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${config.colors.bg} backdrop-blur-sm rounded-2xl p-6 border-2 ${config.colors.border} relative overflow-hidden group`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 778,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative z-10\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex items-center space-x-3 mb-4 ${agentType === 'skeptic' || agentType === 'ethicist' ? 'flex-row-reverse space-x-reverse' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(motion.div, {\n              className: \"text-2xl\",\n              animate: isTyping ? {\n                scale: [1, 1.2, 1]\n              } : {},\n              transition: {\n                duration: 0.8,\n                repeat: isTyping ? Infinity : 0\n              },\n              children: config.avatar\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 783,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `${agentType === 'skeptic' || agentType === 'ethicist' ? 'text-right' : ''}`,\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: `font-black text-lg ${config.colors.primary}`,\n                children: config.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 791,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `text-sm font-medium ${config.colors.primary.replace('400', '300')}`,\n                children: config.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 794,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 790,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-slate-400 bg-slate-800/50 px-2 py-1 rounded-full\",\n                children: [\"Round \", ((_message$data2 = message.data) === null || _message$data2 === void 0 ? void 0 : _message$data2.round) || 1]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 799,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `w-2 h-2 ${config.colors.primary.replace('text-', 'bg-')} rounded-full animate-pulse`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 802,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 798,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 782,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-slate-900/40 backdrop-blur-sm rounded-xl p-5 border border-slate-600/20\",\n            children: isTyping ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex space-x-1\",\n                children: [0, 1, 2].map(i => /*#__PURE__*/_jsxDEV(motion.div, {\n                  className: `w-2 h-2 ${config.colors.primary.replace('text-', 'bg-')} rounded-full`,\n                  animate: {\n                    scale: [1, 1.5, 1],\n                    opacity: [0.5, 1, 0.5]\n                  },\n                  transition: {\n                    duration: 1,\n                    repeat: Infinity,\n                    delay: i * 0.2\n                  }\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 812,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 810,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-slate-400 text-sm italic\",\n                children: \"Formulating response...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 824,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 809,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-slate-200 leading-relaxed font-medium text-base\",\n              children: (_message$data3 = message.data) === null || _message$data3 === void 0 ? void 0 : _message$data3.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 827,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 807,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `mt-3 ${agentType === 'skeptic' || agentType === 'ethicist' ? 'text-right' : 'text-left'}`,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-slate-500\",\n              children: (_message$data4 = message.data) !== null && _message$data4 !== void 0 && _message$data4.timestamp ? new Date(message.data.timestamp).toLocaleTimeString() : 'Now'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 835,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 834,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 780,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 776,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 775,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 769,\n    columnNumber: 5\n  }, this);\n};\n_c = ChatMessage;\nconst RoundSeparator = ({\n  round,\n  isActive = false\n}) => /*#__PURE__*/_jsxDEV(motion.div, {\n  initial: {\n    opacity: 0,\n    scale: 0.8\n  },\n  animate: {\n    opacity: 1,\n    scale: 1\n  },\n  className: \"flex justify-center my-12\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `relative ${isActive ? 'animate-pulse' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `bg-gradient-to-r ${isActive ? 'from-purple-500/30 to-pink-500/30' : 'from-slate-700/50 to-slate-600/50'} backdrop-blur-sm rounded-2xl px-8 py-4 border-2 ${isActive ? 'border-purple-500/50' : 'border-slate-600/50'}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(motion.div, {\n          className: `w-4 h-4 rounded-full ${isActive ? 'bg-purple-400' : 'bg-slate-400'}`,\n          animate: isActive ? {\n            scale: [1, 1.3, 1]\n          } : {},\n          transition: {\n            duration: 1,\n            repeat: Infinity\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 855,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `font-black text-xl ${isActive ? 'text-purple-300' : 'text-slate-400'}`,\n          children: [\"Round \", round]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 860,\n          columnNumber: 11\n        }, this), isActive && /*#__PURE__*/_jsxDEV(motion.span, {\n          className: \"text-purple-400 text-sm font-bold bg-purple-500/20 px-3 py-1 rounded-full\",\n          animate: {\n            opacity: [0.7, 1, 0.7]\n          },\n          transition: {\n            duration: 2,\n            repeat: Infinity\n          },\n          children: \"Live\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 864,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 854,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 853,\n      columnNumber: 7\n    }, this), isActive && /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"absolute inset-0 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-2xl blur-xl\",\n      animate: {\n        scale: [1, 1.1, 1],\n        opacity: [0.5, 0.8, 0.5]\n      },\n      transition: {\n        duration: 2,\n        repeat: Infinity\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 875,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 852,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 847,\n  columnNumber: 3\n}, this);\n_c2 = RoundSeparator;\nconst DebateInterface = () => {\n  _s();\n  const [query, setQuery] = useState('');\n  const [sessionId] = useState(() => `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`);\n  const [debateState, setDebateState] = useState({\n    status: 'idle',\n    researchBrief: null,\n    agentMessages: [],\n    judgeDecisions: [],\n    finalReport: null,\n    currentRound: 0,\n    activeAgents: new Set(),\n    startTime: null\n  });\n  const messagesEndRef = useRef(null);\n  const processedMessagesCount = useRef(0);\n  const {\n    isConnected,\n    messages,\n    sendMessage,\n    clearMessages,\n    connectionStatus\n  } = useWebSocket(`ws://localhost:8000/debate/${sessionId}`);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [debateState.agentMessages, debateState.finalReport]);\n\n  // Process messages similar to your original implementation\n  useEffect(() => {\n    const newMessages = messages.slice(processedMessagesCount.current);\n    if (newMessages.length === 0) return;\n    setDebateState(prev => {\n      const newState = {\n        ...prev,\n        agentMessages: [...prev.agentMessages],\n        judgeDecisions: [...prev.judgeDecisions]\n      };\n      newMessages.forEach(message => {\n        const messageExists = newState.agentMessages.some(m => m.id === message.id) || newState.judgeDecisions.some(d => d.id === message.id);\n        if (messageExists) return;\n        switch (message.type) {\n          case 'research_complete':\n            newState.status = 'research_complete';\n            newState.researchBrief = message.data.brief;\n            break;\n          case 'agent_response':\n            newState.status = 'debating';\n            newState.agentMessages.push(message);\n            newState.currentRound = Math.max(newState.currentRound, message.data.round || 1);\n            newState.activeAgents = new Set();\n            break;\n          case 'judge_decision':\n            newState.status = 'judge_deciding';\n            newState.judgeDecisions.push(message);\n            break;\n          case 'final_report':\n            newState.status = 'complete';\n            newState.finalReport = message.data;\n            break;\n          case 'debate_complete':\n            newState.status = 'complete';\n            break;\n          case 'error':\n            console.error('Debate error:', message.message);\n            newState.status = 'error';\n            break;\n          default:\n            if (message.type === 'round_start') {\n              newState.currentRound = message.data.round;\n              newState.status = 'debating';\n            }\n            break;\n        }\n      });\n      return newState;\n    });\n    processedMessagesCount.current = messages.length;\n  }, [messages]);\n  const startDebate = () => {\n    if (!query.trim() || !isConnected) return;\n    clearMessages();\n    processedMessagesCount.current = 0;\n    setDebateState({\n      status: 'starting',\n      researchBrief: null,\n      agentMessages: [],\n      judgeDecisions: [],\n      finalReport: null,\n      currentRound: 0,\n      activeAgents: new Set(['researcher']),\n      startTime: new Date()\n    });\n    const success = sendMessage({\n      type: 'start_debate',\n      query: query\n    });\n    if (success) {\n      setDebateState(prev => ({\n        ...prev,\n        status: 'researching'\n      }));\n    }\n  };\n  const resetDebate = () => {\n    setQuery('');\n    clearMessages();\n    processedMessagesCount.current = 0;\n    setDebateState({\n      status: 'idle',\n      researchBrief: null,\n      agentMessages: [],\n      judgeDecisions: [],\n      finalReport: null,\n      currentRound: 0,\n      activeAgents: new Set(),\n      startTime: null\n    });\n  };\n\n  // Combine and sort all debate messages chronologically\n  const getAllDebateMessages = () => {\n    const allMessages = [];\n\n    // Add agent messages\n    debateState.agentMessages.forEach(msg => {\n      allMessages.push({\n        ...msg,\n        sortOrder: new Date(msg.data.timestamp).getTime()\n      });\n    });\n\n    // Add judge decisions\n    debateState.judgeDecisions.forEach(msg => {\n      allMessages.push({\n        ...msg,\n        sortOrder: new Date(msg.data.timestamp || Date.now()).getTime()\n      });\n    });\n    return allMessages.sort((a, b) => a.sortOrder - b.sortOrder);\n  };\n  const groupMessagesByRound = messages => {\n    const rounds = {};\n    messages.forEach(msg => {\n      var _msg$data, _msg$data2;\n      const round = ((_msg$data = msg.data) === null || _msg$data === void 0 ? void 0 : _msg$data.round) || (msg.type === 'judge_decision' ? (_msg$data2 = msg.data) === null || _msg$data2 === void 0 ? void 0 : _msg$data2.round_count : 1);\n      if (!rounds[round]) {\n        rounds[round] = [];\n      }\n      rounds[round].push(msg);\n    });\n    return rounds;\n  };\n  const allDebateMessages = getAllDebateMessages();\n  const roundGroups = groupMessagesByRound(allDebateMessages);\n  const sortedRounds = Object.keys(roundGroups).sort((a, b) => parseInt(a) - parseInt(b));\n  const isDebateActive = ['starting', 'researching', 'research_complete', 'debating', 'judge_deciding', 'moderating'].includes(debateState.status);\n  const getStatusConfig = () => {\n    const configs = {\n      idle: {\n        message: 'Ready to unleash the power of AI debate',\n        color: 'text-slate-700',\n        bgColor: 'bg-gradient-to-r from-slate-100 to-gray-100',\n        borderColor: 'border-slate-300',\n        icon: 'ðŸ§ ',\n        glow: 'shadow-slate-200/50'\n      },\n      starting: {\n        message: 'Initializing neural debate matrix...',\n        color: 'text-cyan-700',\n        bgColor: 'bg-gradient-to-r from-cyan-100 to-blue-100',\n        borderColor: 'border-cyan-300',\n        icon: 'âš¡',\n        glow: 'shadow-cyan-300/60'\n      },\n      researching: {\n        message: 'AI researcher scanning global knowledge...',\n        color: 'text-blue-700',\n        bgColor: 'bg-gradient-to-r from-blue-100 to-indigo-100',\n        borderColor: 'border-blue-300',\n        icon: 'ðŸ”',\n        glow: 'shadow-blue-300/60'\n      },\n      research_complete: {\n        message: 'Knowledge acquired. Experts awakening...',\n        color: 'text-emerald-700',\n        bgColor: 'bg-gradient-to-r from-emerald-100 to-green-100',\n        borderColor: 'border-emerald-300',\n        icon: 'âœ¨',\n        glow: 'shadow-emerald-300/60'\n      },\n      debating: {\n        message: `Round ${debateState.currentRound} â€¢ Neural combat engaged`,\n        color: 'text-purple-700',\n        bgColor: 'bg-gradient-to-r from-purple-100 to-pink-100',\n        borderColor: 'border-purple-300',\n        icon: 'ðŸŽ¯',\n        glow: 'shadow-purple-300/60'\n      },\n      judge_deciding: {\n        message: 'Supreme Judge evaluating neural patterns...',\n        color: 'text-amber-700',\n        bgColor: 'bg-gradient-to-r from-amber-100 to-orange-100',\n        borderColor: 'border-amber-300',\n        icon: 'âš–ï¸',\n        glow: 'shadow-amber-300/60'\n      },\n      complete: {\n        message: 'Debate matrix complete â€¢ Insights extracted',\n        color: 'text-emerald-700',\n        bgColor: 'bg-gradient-to-r from-emerald-100 to-green-100',\n        borderColor: 'border-emerald-300',\n        icon: 'ðŸŽ‰',\n        glow: 'shadow-emerald-300/60'\n      },\n      error: {\n        message: 'Neural network disruption detected',\n        color: 'text-red-700',\n        bgColor: 'bg-gradient-to-r from-red-100 to-pink-100',\n        borderColor: 'border-red-300',\n        icon: 'âš ï¸',\n        glow: 'shadow-red-300/60'\n      }\n    };\n    return configs[debateState.status] || configs.idle;\n  };\n  const statusConfig = getStatusConfig();\n  const getConnectionStatusConfig = () => {\n    const configs = {\n      connected: {\n        color: 'bg-emerald-500',\n        text: 'Neural Link Active',\n        textColor: 'text-emerald-800',\n        bgColor: 'bg-emerald-50',\n        borderColor: 'border-emerald-200'\n      },\n      connecting: {\n        color: 'bg-amber-500',\n        text: 'Establishing Link...',\n        textColor: 'text-amber-800',\n        bgColor: 'bg-amber-50',\n        borderColor: 'border-amber-200'\n      },\n      reconnecting: {\n        color: 'bg-amber-500',\n        text: 'Reconnecting Neural Link...',\n        textColor: 'text-amber-800',\n        bgColor: 'bg-amber-50',\n        borderColor: 'border-amber-200'\n      },\n      disconnected: {\n        color: 'bg-red-500',\n        text: 'Neural Link Offline',\n        textColor: 'text-red-800',\n        bgColor: 'bg-red-50',\n        borderColor: 'border-red-200'\n      },\n      error: {\n        color: 'bg-red-500',\n        text: 'Connection Error',\n        textColor: 'text-red-800',\n        bgColor: 'bg-red-50',\n        borderColor: 'border-red-200'\n      },\n      failed: {\n        color: 'bg-red-500',\n        text: 'Link Failed',\n        textColor: 'text-red-800',\n        bgColor: 'bg-red-50',\n        borderColor: 'border-red-200'\n      }\n    };\n    return configs[connectionStatus] || configs.disconnected;\n  };\n  const connectionConfig = getConnectionStatusConfig();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute -bottom-40 -left-40 w-80 h-80 bg-cyan-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-40 left-1/2 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0 bg-gradient-to-br from-transparent via-cyan-500/5 to-transparent\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0\",\n        style: {\n          backgroundImage: `radial-gradient(circle at 1px 1px, rgba(99, 102, 241, 0.1) 1px, transparent 0)`,\n          backgroundSize: '20px 20px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1185,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1178,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative z-10 max-w-7xl mx-auto p-6 space-y-8\",\n      children: [/*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: -30\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        transition: {\n          duration: 0.8,\n          ease: \"easeOut\"\n        },\n        className: \"text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(motion.h1, {\n            className: \"text-7xl md:text-8xl font-black bg-gradient-to-r from-cyan-400 via-purple-400 to-pink-400 bg-clip-text text-transparent mb-4 tracking-tight\",\n            initial: {\n              scale: 0.9,\n              opacity: 0\n            },\n            animate: {\n              scale: 1,\n              opacity: 1\n            },\n            transition: {\n              duration: 1,\n              ease: \"easeOut\"\n            },\n            children: \"Chimera\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n            className: \"absolute -top-4 -right-4 text-4xl\",\n            animate: {\n              rotate: [0, 10, -10, 0],\n              scale: [1, 1.1, 1]\n            },\n            transition: {\n              duration: 2,\n              repeat: Infinity,\n              ease: \"easeInOut\"\n            },\n            children: \"\\u26A1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1210,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0,\n            y: 20\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          transition: {\n            delay: 0.5,\n            duration: 0.6\n          },\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl md:text-3xl text-slate-300 font-bold tracking-wide\",\n            children: \"Neural Multi-Agent Debate System\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg text-slate-400 max-w-2xl mx-auto leading-relaxed\",\n            children: \"Unleash the collective intelligence of AI experts in epic debates that reshape understanding\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1235,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-center space-x-6 mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2 text-cyan-400\",\n              children: [/*#__PURE__*/_jsxDEV(SparklesIcon, {\n                className: \"h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1241,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium\",\n                children: \"AI-Powered\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1242,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1240,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2 text-purple-400\",\n              children: [/*#__PURE__*/_jsxDEV(BoltIcon, {\n                className: \"h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1245,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium\",\n                children: \"Real-Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1246,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1244,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2 text-pink-400\",\n              children: [/*#__PURE__*/_jsxDEV(RocketLaunchIcon, {\n                className: \"h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1249,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium\",\n                children: \"Cutting-Edge\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1250,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1248,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1239,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1226,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1194,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: 30\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        transition: {\n          delay: 0.3,\n          duration: 0.8\n        },\n        className: \"relative\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-r from-slate-800/80 via-slate-900/90 to-slate-800/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-slate-700/50 p-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-purple-500/10 to-pink-500/10 rounded-3xl blur-xl\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1264,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative space-y-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col lg:flex-row gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 relative group\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: query,\n                  onChange: e => setQuery(e.target.value),\n                  placeholder: \"Enter your complex question or debate topic...\",\n                  className: \"w-full p-6 pl-16 bg-gradient-to-r from-slate-900/50 to-slate-800/50 border-2 border-slate-600/50 rounded-2xl focus:ring-4 focus:ring-purple-500/30 focus:border-purple-500/50 transition-all duration-300 text-white placeholder-slate-400 text-lg font-medium backdrop-blur-sm group-hover:border-slate-500/70\",\n                  disabled: isDebateActive,\n                  onKeyPress: e => e.key === 'Enter' && !isDebateActive && startDebate()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1269,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute left-6 top-1/2 transform -translate-y-1/2 text-slate-400 group-hover:text-cyan-400 transition-colors duration-300\",\n                  children: /*#__PURE__*/_jsxDEV(motion.div, {\n                    animate: {\n                      scale: [1, 1.1, 1]\n                    },\n                    transition: {\n                      duration: 2,\n                      repeat: Infinity,\n                      ease: \"easeInOut\"\n                    },\n                    children: \"\\uD83E\\uDDE0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1279,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1278,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1268,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex space-x-4\",\n                children: [/*#__PURE__*/_jsxDEV(motion.button, {\n                  whileHover: {\n                    scale: 1.02,\n                    boxShadow: \"0 20px 40px -12px rgba(139, 92, 246, 0.3)\"\n                  },\n                  whileTap: {\n                    scale: 0.98\n                  },\n                  onClick: startDebate,\n                  disabled: !query.trim() || !isConnected || isDebateActive,\n                  className: \"px-8 py-6 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-2xl hover:from-purple-700 hover:to-pink-700 disabled:from-slate-600 disabled:to-slate-700 disabled:cursor-not-allowed transition-all duration-300 flex items-center space-x-3 font-bold text-lg shadow-xl border border-purple-500/50\",\n                  children: isDebateActive ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(motion.div, {\n                      animate: {\n                        rotate: 360\n                      },\n                      transition: {\n                        duration: 1,\n                        repeat: Infinity,\n                        ease: \"linear\"\n                      },\n                      children: /*#__PURE__*/_jsxDEV(PauseIcon, {\n                        className: \"h-6 w-6\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1302,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1298,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Neural Active\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1304,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(PlayIcon, {\n                      className: \"h-6 w-6\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1308,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Ignite Debate\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1309,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1289,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n                  whileHover: {\n                    scale: 1.02\n                  },\n                  whileTap: {\n                    scale: 0.98\n                  },\n                  onClick: resetDebate,\n                  disabled: isDebateActive,\n                  className: \"px-6 py-6 bg-gradient-to-r from-slate-700 to-slate-800 text-slate-300 rounded-2xl hover:from-slate-600 hover:to-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center space-x-3 font-semibold shadow-xl border border-slate-600/50\",\n                  children: [/*#__PURE__*/_jsxDEV(ArrowPathIcon, {\n                    className: \"h-6 w-6\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1321,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Reset\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1322,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1314,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1288,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1267,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1266,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1263,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1257,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        transition: {\n          delay: 0.6,\n          duration: 0.6\n        },\n        className: \"flex flex-col sm:flex-row items-center justify-between gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(motion.div, {\n          className: `inline-flex items-center px-6 py-3 rounded-2xl font-bold text-sm border-2 backdrop-blur-sm ${statusConfig.bgColor} ${statusConfig.color} ${statusConfig.borderColor} ${statusConfig.glow} shadow-xl`,\n          animate: {\n            boxShadow: isDebateActive ? [\"0 0 20px rgba(139, 92, 246, 0.3)\", \"0 0 40px rgba(139, 92, 246, 0.5)\", \"0 0 20px rgba(139, 92, 246, 0.3)\"] : \"0 0 20px rgba(0, 0, 0, 0.1)\"\n          },\n          transition: {\n            duration: 2,\n            repeat: Infinity\n          },\n          children: [/*#__PURE__*/_jsxDEV(motion.span, {\n            className: \"mr-3 text-lg\",\n            animate: isDebateActive ? {\n              scale: [1, 1.2, 1],\n              rotate: [0, 5, -5, 0]\n            } : {},\n            transition: {\n              duration: 1,\n              repeat: Infinity\n            },\n            children: statusConfig.icon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1346,\n            columnNumber: 13\n          }, this), statusConfig.message]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1337,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n          className: `inline-flex items-center px-4 py-2 rounded-xl text-sm font-bold border-2 backdrop-blur-sm ${connectionConfig.bgColor} ${connectionConfig.textColor} ${connectionConfig.borderColor} shadow-lg`,\n          animate: {\n            opacity: [0.8, 1, 0.8]\n          },\n          transition: {\n            duration: 2,\n            repeat: Infinity\n          },\n          children: [/*#__PURE__*/_jsxDEV(motion.div, {\n            className: `w-3 h-3 rounded-full mr-3 ${connectionConfig.color}`,\n            animate: connectionStatus === 'connecting' || connectionStatus === 'reconnecting' ? {\n              scale: [1, 1.3, 1]\n            } : {},\n            transition: {\n              duration: 0.8,\n              repeat: Infinity\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1364,\n            columnNumber: 13\n          }, this), connectionConfig.text]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1359,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1331,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n        children: (debateState.status === 'researching' || debateState.researchBrief) && /*#__PURE__*/_jsxDEV(ResearchPanel, {\n          researchBrief: debateState.researchBrief,\n          isLoading: debateState.status === 'researching'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1378,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1376,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n        children: allDebateMessages.length > 0 && /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0,\n            y: 30\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          transition: {\n            delay: 0.2,\n            duration: 0.8\n          },\n          children: [/*#__PURE__*/_jsxDEV(motion.div, {\n            initial: {\n              opacity: 0,\n              y: 20\n            },\n            animate: {\n              opacity: 1,\n              y: 0\n            },\n            className: \"bg-slate-800/50 backdrop-blur-sm rounded-2xl p-4 mb-8 border border-slate-700/50\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-slate-400 font-medium\",\n                  children: \"Active Neural Agents:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1401,\n                  columnNumber: 21\n                }, this), ['innovator', 'skeptic', 'engineer', 'ethicist'].map(agent => {\n                  const config = getAgentConfig(agent);\n                  return /*#__PURE__*/_jsxDEV(motion.div, {\n                    className: `flex items-center space-x-2 px-3 py-2 rounded-xl border-2 ${config.colors.border} ${config.colors.accent} backdrop-blur-sm`,\n                    whileHover: {\n                      scale: 1.05\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-lg\",\n                      children: config.avatar\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1410,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `text-sm font-bold ${config.colors.primary}`,\n                      children: config.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1411,\n                      columnNumber: 27\n                    }, this)]\n                  }, agent, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1405,\n                    columnNumber: 25\n                  }, this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1400,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-slate-400 text-sm\",\n                  children: \"Round\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1419,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"bg-purple-500/20 text-purple-400 font-bold px-3 py-1 rounded-full\",\n                  children: debateState.currentRound\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1420,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1418,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1399,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1394,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-slate-800/30 backdrop-blur-sm rounded-3xl border border-slate-700/50 overflow-hidden mb-8\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-[800px] overflow-y-auto p-6 space-y-2 custom-scrollbar\",\n              children: [sortedRounds.map(round => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(RoundSeparator, {\n                  round: parseInt(round),\n                  isActive: parseInt(round) === debateState.currentRound && debateState.status === 'debating'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1432,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n                  children: roundGroups[round].sort((a, b) => {\n                    var _a$data, _b$data;\n                    return new Date(((_a$data = a.data) === null || _a$data === void 0 ? void 0 : _a$data.timestamp) || 0) - new Date(((_b$data = b.data) === null || _b$data === void 0 ? void 0 : _b$data.timestamp) || 0);\n                  }).map(message => /*#__PURE__*/_jsxDEV(ChatMessage, {\n                    message: message\n                  }, message.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1440,\n                    columnNumber: 29\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1436,\n                  columnNumber: 23\n                }, this)]\n              }, round, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1431,\n                columnNumber: 21\n              }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                ref: messagesEndRef\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1446,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1429,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1428,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1388,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1386,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n        children: debateState.finalReport && /*#__PURE__*/_jsxDEV(FinalReport, {\n          report: debateState.finalReport\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1456,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1454,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1461,\n        columnNumber: 9\n      }, this), process.env.NODE_ENV === 'development' && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: 20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        className: \"bg-gradient-to-r from-slate-900/90 to-slate-800/90 backdrop-blur-xl text-cyan-400 p-6 rounded-2xl font-mono text-xs space-y-2 border border-slate-700/50 shadow-2xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-cyan-300 font-bold mb-3 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-2 h-2 bg-cyan-400 rounded-full mr-2 animate-pulse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1471,\n            columnNumber: 15\n          }, this), \"Neural Debug Console\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1470,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Session: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-purple-400\",\n              children: sessionId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1475,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1475,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Status: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-green-400\",\n              children: debateState.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1476,\n              columnNumber: 28\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1476,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Messages: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-yellow-400\",\n              children: messages.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1477,\n              columnNumber: 30\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1477,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Round: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-pink-400\",\n              children: debateState.currentRound\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1478,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1478,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Connection: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-blue-400\",\n              children: connectionStatus\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1479,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1479,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Agents: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-indigo-400\",\n              children: debateState.agentMessages.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1480,\n              columnNumber: 28\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1480,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1474,\n          columnNumber: 13\n        }, this), debateState.startTime && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center pt-2 border-t border-slate-700\",\n          children: [\"Duration: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-emerald-400 font-bold\",\n            children: [Math.round((new Date() - debateState.startTime) / 1000), \"s\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1484,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1483,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1465,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1191,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 overflow-hidden pointer-events-none\",\n      children: [...Array(20)].map((_, i) => /*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"absolute w-1 h-1 bg-cyan-400/30 rounded-full\",\n        initial: {\n          x: Math.random() * window.innerWidth,\n          y: window.innerHeight + 10,\n          opacity: 0\n        },\n        animate: {\n          y: -10,\n          opacity: [0, 1, 0],\n          scale: [0, 1, 0]\n        },\n        transition: {\n          duration: Math.random() * 10 + 10,\n          repeat: Infinity,\n          delay: Math.random() * 5,\n          ease: \"easeOut\"\n        }\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1496,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1494,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1176,\n    columnNumber: 5\n  }, this);\n};\n_s(DebateInterface, \"bolVxl3n0AEcJcTDH1VVgshuTaw=\", false, function () {\n  return [useWebSocket];\n});\n_c3 = DebateInterface;\nexport default DebateInterface;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"ChatMessage\");\n$RefreshReg$(_c2, \"RoundSeparator\");\n$RefreshReg$(_c3, \"DebateInterface\");","map":{"version":3,"names":["React","useState","useEffect","useRef","motion","AnimatePresence","ArrowPathIcon","PlayIcon","PauseIcon","SparklesIcon","BoltIcon","RocketLaunchIcon","ScaleIcon","CheckCircleIcon","XCircleIcon","DocumentTextIcon","UserIcon","useWebSocket","ResearchPanel","FinalReport","jsxDEV","_jsxDEV","Fragment","_Fragment","getAgentConfig","agentType","configs","innovator","name","title","avatar","colors","primary","bg","border","accent","glow","skeptic","engineer","ethicist","judge","ChatMessage","message","isTyping","_message$data","_message$data2","_message$data3","_message$data4","isJudge","type","data","role","config","div","initial","opacity","y","scale","animate","transition","duration","className","children","fileName","_jsxFileName","lineNumber","columnNumber","repeat","Infinity","should_continue","reasoning","round_count","x","stiffness","replace","round","map","i","delay","content","timestamp","Date","toLocaleTimeString","_c","RoundSeparator","isActive","span","_c2","DebateInterface","_s","query","setQuery","sessionId","now","Math","random","toString","substr","debateState","setDebateState","status","researchBrief","agentMessages","judgeDecisions","finalReport","currentRound","activeAgents","Set","startTime","messagesEndRef","processedMessagesCount","isConnected","messages","sendMessage","clearMessages","connectionStatus","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","newMessages","slice","length","prev","newState","forEach","messageExists","some","m","id","d","brief","push","max","console","error","startDebate","trim","success","resetDebate","getAllDebateMessages","allMessages","msg","sortOrder","getTime","sort","a","b","groupMessagesByRound","rounds","_msg$data","_msg$data2","allDebateMessages","roundGroups","sortedRounds","Object","keys","parseInt","isDebateActive","includes","getStatusConfig","idle","color","bgColor","borderColor","icon","starting","researching","research_complete","debating","judge_deciding","complete","statusConfig","getConnectionStatusConfig","connected","text","textColor","connecting","reconnecting","disconnected","failed","connectionConfig","style","backgroundImage","backgroundSize","ease","h1","rotate","value","onChange","e","target","placeholder","disabled","onKeyPress","key","button","whileHover","boxShadow","whileTap","onClick","isLoading","agent","_a$data","_b$data","ref","report","process","env","NODE_ENV","Array","_","window","innerWidth","innerHeight","_c3","$RefreshReg$"],"sources":["C:/Users/SuryaPratapRout/OneDrive - GyanSys Inc/Desktop/Apex/Chimera-Debate/Chimera-Clue/frontend/src/components/DebateInterface.jsx"],"sourcesContent":["// import React, { useState, useEffect, useRef } from 'react';\r\n// import { motion, AnimatePresence } from 'framer-motion';\r\n// import { \r\n//   ArrowPathIcon, \r\n//   PlayIcon,\r\n//   PauseIcon,\r\n//   SparklesIcon,\r\n//   BoltIcon,\r\n//   RocketLaunchIcon\r\n// } from '@heroicons/react/24/outline';\r\n\r\n// import useWebSocket from '../hooks/useWebSocket';\r\n// import ResearchPanel from './ResearchPanel';\r\n// import AgentPanel from './AgentPanel';\r\n// import JudgePanel from './JudgePanel';\r\n// import FinalReport from './FinalReport';\r\n\r\n// const DebateInterface = () => {\r\n//   const [query, setQuery] = useState('');\r\n//   const [sessionId] = useState(() => `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`);\r\n//   const [debateState, setDebateState] = useState({\r\n//     status: 'idle',\r\n//     researchBrief: null,\r\n//     agentMessages: [],\r\n//     judgeDecisions: [],\r\n//     finalReport: null,\r\n//     currentRound: 0,\r\n//     activeAgents: new Set(),\r\n//     startTime: null\r\n//   });\r\n\r\n//   const messagesEndRef = useRef(null);\r\n//   const { isConnected, messages, sendMessage, clearMessages, connectionStatus } = useWebSocket(\r\n//     `ws://localhost:8000/debate/${sessionId}`\r\n//   );\r\n  \r\n//   // FIX: This ref tracks how many messages we've already processed. It's essential\r\n//   // for correctly handling messages that arrive in quick batches.\r\n//   const processedMessagesCount = useRef(0);\r\n\r\n//   // Auto-scroll to bottom on new messages\r\n//   const scrollToBottom = () => {\r\n//     messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     scrollToBottom();\r\n//   }, [debateState.agentMessages, debateState.finalReport]);\r\n\r\n//   // FIX: Replaced the faulty message handler with a robust batch-processing logic.\r\n//   // This ensures that no messages are dropped, solving the \"No neural activity\" issue.\r\n//   useEffect(() => {\r\n//     const newMessages = messages.slice(processedMessagesCount.current);\r\n//     if (newMessages.length === 0) return;\r\n\r\n//     setDebateState(prev => {\r\n//       const newState = { \r\n//         ...prev,\r\n//         agentMessages: [...prev.agentMessages],\r\n//         judgeDecisions: [...prev.judgeDecisions],\r\n//       };\r\n\r\n//       newMessages.forEach(message => {\r\n//         const messageExists = \r\n//           newState.agentMessages.some(m => m.id === message.id) ||\r\n//           newState.judgeDecisions.some(d => d.id === message.id);\r\n        \r\n//         if (messageExists) return;\r\n\r\n//         switch (message.type) {\r\n//           case 'research_complete':\r\n//             newState.status = 'research_complete';\r\n//             newState.researchBrief = message.data.brief;\r\n//             break;\r\n//           case 'agent_response':\r\n//             newState.status = 'debating';\r\n//             newState.agentMessages.push(message);\r\n//             newState.currentRound = Math.max(newState.currentRound, message.data.round || 1);\r\n//             newState.activeAgents = new Set();\r\n//             break;\r\n//           case 'judge_decision':\r\n//             newState.status = 'judge_deciding';\r\n//             newState.judgeDecisions.push(message);\r\n//             break;\r\n//           case 'final_report':\r\n//             newState.status = 'complete';\r\n//             newState.finalReport = message.data;\r\n//             break;\r\n//           case 'debate_complete':\r\n//             newState.status = 'complete';\r\n//             break;\r\n//           case 'error':\r\n//             console.error('Debate error:', message.message);\r\n//             newState.status = 'error';\r\n//             break;\r\n//           default:\r\n//             if (message.type === 'round_start') {\r\n//               newState.currentRound = message.data.round;\r\n//               newState.status = 'debating';\r\n//             }\r\n//             console.log('Received message:', message.type, message.data);\r\n//             break;\r\n//         }\r\n//       });\r\n      \r\n//       return newState;\r\n//     });\r\n\r\n//     processedMessagesCount.current = messages.length;\r\n//   }, [messages]);\r\n\r\n//   const startDebate = () => {\r\n//     if (!query.trim() || !isConnected) return;\r\n    \r\n//     clearMessages();\r\n//     processedMessagesCount.current = 0; // Reset counter on new debate\r\n//     setDebateState({\r\n//       status: 'starting',\r\n//       researchBrief: null,\r\n//       agentMessages: [],\r\n//       judgeDecisions: [],\r\n//       finalReport: null,\r\n//       currentRound: 0,\r\n//       activeAgents: new Set(['researcher']),\r\n//       startTime: new Date()\r\n//     });\r\n\r\n//     const success = sendMessage({\r\n//       type: 'start_debate',\r\n//       query: query\r\n//     });\r\n\r\n//     if (success) {\r\n//       setDebateState(prev => ({ ...prev, status: 'researching' }));\r\n//     }\r\n//   };\r\n\r\n//   const resetDebate = () => {\r\n//     setQuery('');\r\n//     clearMessages();\r\n//     processedMessagesCount.current = 0; // Reset counter on reset\r\n//     setDebateState({\r\n//       status: 'idle',\r\n//       researchBrief: null,\r\n//       agentMessages: [],\r\n//       judgeDecisions: [],\r\n//       finalReport: null,\r\n//       currentRound: 0,\r\n//       activeAgents: new Set(),\r\n//       startTime: null\r\n//     });\r\n//   };\r\n\r\n//   const getStatusConfig = () => {\r\n//     const configs = {\r\n//       idle: { \r\n//         message: 'Ready to unleash the power of AI debate', \r\n//         color: 'text-slate-700',\r\n//         bgColor: 'bg-gradient-to-r from-slate-100 to-gray-100',\r\n//         borderColor: 'border-slate-300',\r\n//         icon: 'ðŸ§ ',\r\n//         glow: 'shadow-slate-200/50'\r\n//       },\r\n//       starting: { \r\n//         message: 'Initializing neural debate matrix...', \r\n//         color: 'text-cyan-700',\r\n//         bgColor: 'bg-gradient-to-r from-cyan-100 to-blue-100',\r\n//         borderColor: 'border-cyan-300',\r\n//         icon: 'âš¡',\r\n//         glow: 'shadow-cyan-300/60'\r\n//       },\r\n//       researching: { \r\n//         message: 'AI researcher scanning global knowledge...', \r\n//         color: 'text-blue-700',\r\n//         bgColor: 'bg-gradient-to-r from-blue-100 to-indigo-100',\r\n//         borderColor: 'border-blue-300',\r\n//         icon: 'ðŸ”',\r\n//         glow: 'shadow-blue-300/60'\r\n//       },\r\n//       research_complete: { \r\n//         message: 'Knowledge acquired. Experts awakening...', \r\n//         color: 'text-emerald-700',\r\n//         bgColor: 'bg-gradient-to-r from-emerald-100 to-green-100',\r\n//         borderColor: 'border-emerald-300',\r\n//         icon: 'âœ¨',\r\n//         glow: 'shadow-emerald-300/60'\r\n//       },\r\n//       debating: { \r\n//         message: `Round ${debateState.currentRound} â€¢ Neural combat engaged`, \r\n//         color: 'text-purple-700',\r\n//         bgColor: 'bg-gradient-to-r from-purple-100 to-pink-100',\r\n//         borderColor: 'border-purple-300',\r\n//         icon: 'ðŸŽ¯',\r\n//         glow: 'shadow-purple-300/60'\r\n//       },\r\n//       judge_deciding: { \r\n//         message: 'Supreme Judge evaluating neural patterns...', \r\n//         color: 'text-amber-700',\r\n//         bgColor: 'bg-gradient-to-r from-amber-100 to-orange-100',\r\n//         borderColor: 'border-amber-300',\r\n//         icon: 'âš–ï¸',\r\n//         glow: 'shadow-amber-300/60'\r\n//       },\r\n//       moderating: { \r\n//         message: 'Synthesizing collective intelligence...', \r\n//         color: 'text-indigo-700',\r\n//         bgColor: 'bg-gradient-to-r from-indigo-100 to-violet-100',\r\n//         borderColor: 'border-indigo-300',\r\n//         icon: 'ðŸ§¬',\r\n//         glow: 'shadow-indigo-300/60'\r\n//       },\r\n//       complete: { \r\n//         message: 'Debate matrix complete â€¢ Insights extracted', \r\n//         color: 'text-emerald-700',\r\n//         bgColor: 'bg-gradient-to-r from-emerald-100 to-green-100',\r\n//         borderColor: 'border-emerald-300',\r\n//         icon: 'ðŸŽ‰',\r\n//         glow: 'shadow-emerald-300/60'\r\n//       },\r\n//       error: { \r\n//         message: 'Neural network disruption detected', \r\n//         color: 'text-red-700',\r\n//         bgColor: 'bg-gradient-to-r from-red-100 to-pink-100',\r\n//         borderColor: 'border-red-300',\r\n//         icon: 'âš ï¸',\r\n//         glow: 'shadow-red-300/60'\r\n//       }\r\n//     };\r\n//     return configs[debateState.status] || configs.idle;\r\n//   };\r\n\r\n//   const isDebateActive = ['starting', 'researching', 'research_complete', 'debating', 'judge_deciding', 'moderating'].includes(debateState.status);\r\n//   const statusConfig = getStatusConfig();\r\n\r\n//   const getConnectionStatusConfig = () => {\r\n//     const configs = {\r\n//       connected: { \r\n//         color: 'bg-emerald-500', \r\n//         text: 'Neural Link Active', \r\n//         textColor: 'text-emerald-800',\r\n//         bgColor: 'bg-emerald-50',\r\n//         borderColor: 'border-emerald-200' \r\n//       },\r\n//       connecting: { \r\n//         color: 'bg-amber-500', \r\n//         text: 'Establishing Link...', \r\n//         textColor: 'text-amber-800',\r\n//         bgColor: 'bg-amber-50',\r\n//         borderColor: 'border-amber-200' \r\n//       },\r\n//       reconnecting: { \r\n//         color: 'bg-amber-500', \r\n//         text: 'Reconnecting Neural Link...', \r\n//         textColor: 'text-amber-800',\r\n//         bgColor: 'bg-amber-50',\r\n//         borderColor: 'border-amber-200' \r\n//       },\r\n//       disconnected: { \r\n//         color: 'bg-red-500', \r\n//         text: 'Neural Link Offline', \r\n//         textColor: 'text-red-800',\r\n//         bgColor: 'bg-red-50',\r\n//         borderColor: 'border-red-200' \r\n//       },\r\n//       error: { \r\n//         color: 'bg-red-500', \r\n//         text: 'Connection Error', \r\n//         textColor: 'text-red-800',\r\n//         bgColor: 'bg-red-50',\r\n//         borderColor: 'border-red-200' \r\n//       },\r\n//       failed: { \r\n//         color: 'bg-red-500', \r\n//         text: 'Link Failed', \r\n//         textColor: 'text-red-800',\r\n//         bgColor: 'bg-red-50',\r\n//         borderColor: 'border-red-200' \r\n//       }\r\n//     };\r\n//     return configs[connectionStatus] || configs.disconnected;\r\n//   };\r\n\r\n//   const connectionConfig = getConnectionStatusConfig();\r\n\r\n//   return (\r\n//     <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative overflow-hidden\">\r\n//       {/* Animated Background Elements */}\r\n//       <div className=\"absolute inset-0 overflow-hidden\">\r\n//         <div className=\"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob\"></div>\r\n//         <div className=\"absolute -bottom-40 -left-40 w-80 h-80 bg-cyan-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000\"></div>\r\n//         <div className=\"absolute top-40 left-1/2 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000\"></div>\r\n        \r\n//         {/* Neural Network Grid */}\r\n//         <div className=\"absolute inset-0 bg-gradient-to-br from-transparent via-cyan-500/5 to-transparent\"></div>\r\n//         <div className=\"absolute inset-0\" style={{\r\n//           backgroundImage: `radial-gradient(circle at 1px 1px, rgba(99, 102, 241, 0.1) 1px, transparent 0)`,\r\n//           backgroundSize: '20px 20px'\r\n//         }}></div>\r\n//       </div>\r\n\r\n//       <div className=\"relative z-10 max-w-7xl mx-auto p-6 space-y-8\">\r\n        \r\n//         {/* Stunning Header */}\r\n//         <motion.div \r\n//           initial={{ opacity: 0, y: -30 }}\r\n//           animate={{ opacity: 1, y: 0 }}\r\n//           transition={{ duration: 0.8, ease: \"easeOut\" }}\r\n//           className=\"text-center py-12\"\r\n//         >\r\n//           <div className=\"relative\">\r\n//             <motion.h1 \r\n//               className=\"text-7xl md:text-8xl font-black bg-gradient-to-r from-cyan-400 via-purple-400 to-pink-400 bg-clip-text text-transparent mb-4 tracking-tight\"\r\n//               initial={{ scale: 0.9, opacity: 0 }}\r\n//               animate={{ scale: 1, opacity: 1 }}\r\n//               transition={{ duration: 1, ease: \"easeOut\" }}\r\n//             >\r\n//               Chimera\r\n//             </motion.h1>\r\n            \r\n//             <motion.div\r\n//               className=\"absolute -top-4 -right-4 text-4xl\"\r\n//               animate={{ \r\n//                 rotate: [0, 10, -10, 0],\r\n//                 scale: [1, 1.1, 1]\r\n//               }}\r\n//               transition={{ \r\n//                 duration: 2,\r\n//                 repeat: Infinity,\r\n//                 ease: \"easeInOut\"\r\n//               }}\r\n//             >\r\n//               âš¡\r\n//             </motion.div>\r\n//           </div>\r\n          \r\n//           <motion.div\r\n//             initial={{ opacity: 0, y: 20 }}\r\n//             animate={{ opacity: 1, y: 0 }}\r\n//             transition={{ delay: 0.5, duration: 0.6 }}\r\n//             className=\"space-y-4\"\r\n//           >\r\n//             <p className=\"text-2xl md:text-3xl text-slate-300 font-bold tracking-wide\">\r\n//               Neural Multi-Agent Debate System\r\n//             </p>\r\n//             <p className=\"text-lg text-slate-400 max-w-2xl mx-auto leading-relaxed\">\r\n//               Unleash the collective intelligence of AI experts in epic debates that reshape understanding\r\n//             </p>\r\n            \r\n//             <div className=\"flex items-center justify-center space-x-6 mt-6\">\r\n//               <div className=\"flex items-center space-x-2 text-cyan-400\">\r\n//                 <SparklesIcon className=\"h-5 w-5\" />\r\n//                 <span className=\"text-sm font-medium\">AI-Powered</span>\r\n//               </div>\r\n//               <div className=\"flex items-center space-x-2 text-purple-400\">\r\n//                 <BoltIcon className=\"h-5 w-5\" />\r\n//                 <span className=\"text-sm font-medium\">Real-Time</span>\r\n//               </div>\r\n//               <div className=\"flex items-center space-x-2 text-pink-400\">\r\n//                 <RocketLaunchIcon className=\"h-5 w-5\" />\r\n//                 <span className=\"text-sm font-medium\">Cutting-Edge</span>\r\n//               </div>\r\n//             </div>\r\n//           </motion.div>\r\n//         </motion.div>\r\n\r\n//         {/* Futuristic Query Input Section */}\r\n//         <motion.div \r\n//           initial={{ opacity: 0, y: 30 }}\r\n//           animate={{ opacity: 1, y: 0 }}\r\n//           transition={{ delay: 0.3, duration: 0.8 }}\r\n//           className=\"relative\"\r\n//         >\r\n//           <div className=\"bg-gradient-to-r from-slate-800/80 via-slate-900/90 to-slate-800/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-slate-700/50 p-8\">\r\n//             <div className=\"absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-purple-500/10 to-pink-500/10 rounded-3xl blur-xl\"></div>\r\n            \r\n//             <div className=\"relative space-y-6\">\r\n//               <div className=\"flex flex-col lg:flex-row gap-4\">\r\n//                 <div className=\"flex-1 relative group\">\r\n//                   <input\r\n//                     type=\"text\"\r\n//                     value={query}\r\n//                     onChange={(e) => setQuery(e.target.value)}\r\n//                     placeholder=\"Enter your complex question or debate topic...\"\r\n//                     className=\"w-full p-6 pl-16 bg-gradient-to-r from-slate-900/50 to-slate-800/50 border-2 border-slate-600/50 rounded-2xl focus:ring-4 focus:ring-purple-500/30 focus:border-purple-500/50 transition-all duration-300 text-white placeholder-slate-400 text-lg font-medium backdrop-blur-sm group-hover:border-slate-500/70\"\r\n//                     disabled={isDebateActive}\r\n//                     onKeyPress={(e) => e.key === 'Enter' && !isDebateActive && startDebate()}\r\n//                   />\r\n//                   <div className=\"absolute left-6 top-1/2 transform -translate-y-1/2 text-slate-400 group-hover:text-cyan-400 transition-colors duration-300\">\r\n//                     <motion.div\r\n//                       animate={{ scale: [1, 1.1, 1] }}\r\n//                       transition={{ duration: 2, repeat: Infinity, ease: \"easeInOut\" }}\r\n//                     >\r\n//                       ðŸ§ \r\n//                     </motion.div>\r\n//                   </div>\r\n//                 </div>\r\n                \r\n//                 <div className=\"flex space-x-4\">\r\n//                   <motion.button\r\n//                     whileHover={{ scale: 1.02, boxShadow: \"0 20px 40px -12px rgba(139, 92, 246, 0.3)\" }}\r\n//                     whileTap={{ scale: 0.98 }}\r\n//                     onClick={startDebate}\r\n//                     disabled={!query.trim() || !isConnected || isDebateActive}\r\n//                     className=\"px-8 py-6 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-2xl hover:from-purple-700 hover:to-pink-700 disabled:from-slate-600 disabled:to-slate-700 disabled:cursor-not-allowed transition-all duration-300 flex items-center space-x-3 font-bold text-lg shadow-xl border border-purple-500/50\"\r\n//                   >\r\n//                     {isDebateActive ? (\r\n//                       <>\r\n//                         <motion.div\r\n//                           animate={{ rotate: 360 }}\r\n//                           transition={{ duration: 1, repeat: Infinity, ease: \"linear\" }}\r\n//                         >\r\n//                           <PauseIcon className=\"h-6 w-6\" />\r\n//                         </motion.div>\r\n//                         <span>Neural Active</span>\r\n//                       </>\r\n//                     ) : (\r\n//                       <>\r\n//                         <PlayIcon className=\"h-6 w-6\" />\r\n//                         <span>Ignite Debate</span>\r\n//                       </>\r\n//                     )}\r\n//                   </motion.button>\r\n                  \r\n//                   <motion.button\r\n//                     whileHover={{ scale: 1.02 }}\r\n//                     whileTap={{ scale: 0.98 }}\r\n//                     onClick={resetDebate}\r\n//                     disabled={isDebateActive}\r\n//                     className=\"px-6 py-6 bg-gradient-to-r from-slate-700 to-slate-800 text-slate-300 rounded-2xl hover:from-slate-600 hover:to-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center space-x-3 font-semibold shadow-xl border border-slate-600/50\"\r\n//                   >\r\n//                     <ArrowPathIcon className=\"h-6 w-6\" />\r\n//                     <span>Reset</span>\r\n//                   </motion.button>\r\n//                 </div>\r\n//               </div>\r\n//             </div>\r\n//           </div>\r\n//         </motion.div>\r\n\r\n//         {/* Futuristic Status Bar */}\r\n//         <motion.div \r\n//           initial={{ opacity: 0 }}\r\n//           animate={{ opacity: 1 }}\r\n//           transition={{ delay: 0.6, duration: 0.6 }}\r\n//           className=\"flex flex-col sm:flex-row items-center justify-between gap-4\"\r\n//         >\r\n//           <motion.div \r\n//             className={`inline-flex items-center px-6 py-3 rounded-2xl font-bold text-sm border-2 backdrop-blur-sm ${statusConfig.bgColor} ${statusConfig.color} ${statusConfig.borderColor} ${statusConfig.glow} shadow-xl`}\r\n//             animate={{ \r\n//               boxShadow: isDebateActive ? \r\n//                 [\"0 0 20px rgba(139, 92, 246, 0.3)\", \"0 0 40px rgba(139, 92, 246, 0.5)\", \"0 0 20px rgba(139, 92, 246, 0.3)\"] :\r\n//                 \"0 0 20px rgba(0, 0, 0, 0.1)\"\r\n//             }}\r\n//             transition={{ duration: 2, repeat: Infinity }}\r\n//           >\r\n//             <motion.span \r\n//               className=\"mr-3 text-lg\"\r\n//               animate={isDebateActive ? { \r\n//                 scale: [1, 1.2, 1],\r\n//                 rotate: [0, 5, -5, 0]\r\n//               } : {}}\r\n//               transition={{ duration: 1, repeat: Infinity }}\r\n//             >\r\n//               {statusConfig.icon}\r\n//             </motion.span>\r\n//             {statusConfig.message}\r\n//           </motion.div>\r\n          \r\n//           <motion.div \r\n//             className={`inline-flex items-center px-4 py-2 rounded-xl text-sm font-bold border-2 backdrop-blur-sm ${connectionConfig.bgColor} ${connectionConfig.textColor} ${connectionConfig.borderColor} shadow-lg`}\r\n//             animate={{ opacity: [0.8, 1, 0.8] }}\r\n//             transition={{ duration: 2, repeat: Infinity }}\r\n//           >\r\n//             <motion.div \r\n//               className={`w-3 h-3 rounded-full mr-3 ${connectionConfig.color}`}\r\n//               animate={connectionStatus === 'connecting' || connectionStatus === 'reconnecting' ? \r\n//                 { scale: [1, 1.3, 1] } : {}\r\n//               }\r\n//               transition={{ duration: 0.8, repeat: Infinity }}\r\n//             />\r\n//             {connectionConfig.text}\r\n//           </motion.div>\r\n//         </motion.div>\r\n\r\n//         {/* Research Phase */}\r\n//         <AnimatePresence>\r\n//           {(debateState.status === 'researching' || debateState.researchBrief) && (\r\n//             <ResearchPanel \r\n//               researchBrief={debateState.researchBrief} \r\n//               isLoading={debateState.status === 'researching'}\r\n//             />\r\n//           )}\r\n//         </AnimatePresence>\r\n\r\n//         {/* Judge Decisions */}\r\n//         <AnimatePresence>\r\n//           {debateState.judgeDecisions.length > 0 && (\r\n//             <JudgePanel judgeDecisions={debateState.judgeDecisions} />\r\n//           )}\r\n//         </AnimatePresence>\r\n\r\n//         {/* Expert Agents Grid */}\r\n//         <AnimatePresence>\r\n//           {(debateState.status === 'debating' || debateState.agentMessages.length > 0 || debateState.status === 'research_complete') && (\r\n//             <motion.div \r\n//               initial={{ opacity: 0, y: 30 }}\r\n//               animate={{ opacity: 1, y: 0 }}\r\n//               transition={{ delay: 0.2, duration: 0.8 }}\r\n//               className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6\"\r\n//             >\r\n//               {['innovator', 'skeptic', 'engineer', 'ethicist'].map((agent, index) => (\r\n//                 <motion.div\r\n//                   key={agent}\r\n//                   initial={{ opacity: 0, y: 50, rotateX: -15 }}\r\n//                   animate={{ opacity: 1, y: 0, rotateX: 0 }}\r\n//                   transition={{ delay: 0.1 * index, duration: 0.6, type: \"spring\" }}\r\n//                 >\r\n//                   <AgentPanel\r\n//                     agent={agent}\r\n//                     messages={debateState.agentMessages}\r\n//                     currentRound={debateState.currentRound}\r\n//                     isActive={debateState.activeAgents.has(agent)}\r\n//                     debateStatus={debateState.status}\r\n//                   />\r\n//                 </motion.div>\r\n//               ))}\r\n//             </motion.div>\r\n//           )}\r\n//         </AnimatePresence>\r\n\r\n//         {/* Final Report */}\r\n//         <AnimatePresence>\r\n//           {debateState.finalReport && (\r\n//             <FinalReport report={debateState.finalReport} />\r\n//           )}\r\n//         </AnimatePresence>\r\n\r\n//         {/* Scroll marker */}\r\n//         <div ref={messagesEndRef} />\r\n\r\n//         {/* Futuristic Debug Panel */}\r\n//         {process.env.NODE_ENV === 'development' && (\r\n//           <motion.div \r\n//             initial={{ opacity: 0, y: 20 }}\r\n//             animate={{ opacity: 1, y: 0 }}\r\n//             className=\"bg-gradient-to-r from-slate-900/90 to-slate-800/90 backdrop-blur-xl text-cyan-400 p-6 rounded-2xl font-mono text-xs space-y-2 border border-slate-700/50 shadow-2xl\"\r\n//           >\r\n//             <div className=\"text-cyan-300 font-bold mb-3 flex items-center\">\r\n//               <div className=\"w-2 h-2 bg-cyan-400 rounded-full mr-2 animate-pulse\"></div>\r\n//               Neural Debug Console\r\n//             </div>\r\n//             <div className=\"grid grid-cols-2 gap-4\">\r\n//               <div>Session: <span className=\"text-purple-400\">{sessionId}</span></div>\r\n//               <div>Status: <span className=\"text-green-400\">{debateState.status}</span></div>\r\n//               <div>Messages: <span className=\"text-yellow-400\">{messages.length}</span></div>\r\n//               <div>Round: <span className=\"text-pink-400\">{debateState.currentRound}</span></div>\r\n//               <div>Connection: <span className=\"text-blue-400\">{connectionStatus}</span></div>\r\n//               <div>Agents: <span className=\"text-indigo-400\">{debateState.agentMessages.length}</span></div>\r\n//             </div>\r\n//             {debateState.startTime && (\r\n//               <div className=\"text-center pt-2 border-t border-slate-700\">\r\n//                 Duration: <span className=\"text-emerald-400 font-bold\">\r\n//                   {Math.round((new Date() - debateState.startTime) / 1000)}s\r\n//                 </span>\r\n//               </div>\r\n//             )}\r\n//           </motion.div>\r\n//         )}\r\n//       </div>\r\n\r\n//       {/* Floating Particles Effect */}\r\n//       <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\r\n//         {[...Array(20)].map((_, i) => (\r\n//           <motion.div\r\n//             key={i}\r\n//             className=\"absolute w-1 h-1 bg-cyan-400/30 rounded-full\"\r\n//             initial={{ \r\n//               x: Math.random() * window.innerWidth,\r\n//               y: window.innerHeight + 10,\r\n//               opacity: 0 \r\n//             }}\r\n//             animate={{ \r\n//               y: -10,\r\n//               opacity: [0, 1, 0],\r\n//               scale: [0, 1, 0]\r\n//             }}\r\n//             transition={{\r\n//               duration: Math.random() * 10 + 10,\r\n//               repeat: Infinity,\r\n//               delay: Math.random() * 5,\r\n//               ease: \"easeOut\"\r\n//             }}\r\n//           />\r\n//         ))}\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default DebateInterface;\r\n\r\n\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { \r\n  ArrowPathIcon, \r\n  PlayIcon,\r\n  PauseIcon,\r\n  SparklesIcon,\r\n  BoltIcon,\r\n  RocketLaunchIcon,\r\n  ScaleIcon,\r\n  CheckCircleIcon,\r\n  XCircleIcon,\r\n  DocumentTextIcon,\r\n  UserIcon\r\n} from '@heroicons/react/24/outline';\r\n\r\nimport useWebSocket from '../hooks/useWebSocket';\r\nimport ResearchPanel from './ResearchPanel';\r\nimport FinalReport from './FinalReport';\r\n\r\nconst getAgentConfig = (agentType) => {\r\n  const configs = {\r\n    innovator: {\r\n      name: 'Alex Chen',\r\n      title: 'The Innovator',\r\n      avatar: 'ðŸš€',\r\n      colors: {\r\n        primary: 'text-emerald-400',\r\n        bg: 'bg-gradient-to-r from-emerald-500/20 to-green-500/20',\r\n        border: 'border-emerald-500/40',\r\n        accent: 'bg-emerald-500/10',\r\n        glow: 'shadow-emerald-500/30'\r\n      }\r\n    },\r\n    skeptic: {\r\n      name: 'Dr. Sarah Reeves',\r\n      title: 'The Skeptic',\r\n      avatar: 'ðŸ›¡ï¸',\r\n      colors: {\r\n        primary: 'text-red-400',\r\n        bg: 'bg-gradient-to-r from-red-500/20 to-rose-500/20',\r\n        border: 'border-red-500/40',\r\n        accent: 'bg-red-500/10',\r\n        glow: 'shadow-red-500/30'\r\n      }\r\n    },\r\n    engineer: {\r\n      name: 'Marcus Torres',\r\n      title: 'The Engineer',\r\n      avatar: 'âš™ï¸',\r\n      colors: {\r\n        primary: 'text-blue-400',\r\n        bg: 'bg-gradient-to-r from-blue-500/20 to-cyan-500/20',\r\n        border: 'border-blue-500/40',\r\n        accent: 'bg-blue-500/10',\r\n        glow: 'shadow-blue-500/30'\r\n      }\r\n    },\r\n    ethicist: {\r\n      name: 'Dr. Amara Okafor',\r\n      title: 'The Ethicist',\r\n      avatar: 'âš–ï¸',\r\n      colors: {\r\n        primary: 'text-purple-400',\r\n        bg: 'bg-gradient-to-r from-purple-500/20 to-indigo-500/20',\r\n        border: 'border-purple-500/40',\r\n        accent: 'bg-purple-500/10',\r\n        glow: 'shadow-purple-500/30'\r\n      }\r\n    },\r\n    judge: {\r\n      name: 'Supreme AI Judge',\r\n      title: 'Neutral Arbitrator',\r\n      avatar: 'ðŸ‘¨â€âš–ï¸',\r\n      colors: {\r\n        primary: 'text-amber-400',\r\n        bg: 'bg-gradient-to-r from-amber-500/20 to-yellow-500/20',\r\n        border: 'border-amber-500/40',\r\n        accent: 'bg-amber-500/10',\r\n        glow: 'shadow-amber-500/30'\r\n      }\r\n    }\r\n  };\r\n  return configs[agentType] || configs.innovator;\r\n};\r\n\r\nconst ChatMessage = ({ message, isTyping = false }) => {\r\n  const isJudge = message.type === 'judge_decision';\r\n  const agentType = isJudge ? 'judge' : message.data?.role;\r\n  const config = getAgentConfig(agentType);\r\n  \r\n  if (isJudge) {\r\n    return (\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 20, scale: 0.95 }}\r\n        animate={{ opacity: 1, y: 0, scale: 1 }}\r\n        transition={{ duration: 0.5, type: \"spring\" }}\r\n        className=\"flex justify-center mb-8\"\r\n      >\r\n        <div className=\"max-w-4xl w-full\">\r\n          <div className={`${config.colors.bg} backdrop-blur-sm rounded-3xl p-6 border-2 ${config.colors.border} relative overflow-hidden`}>\r\n            {/* Judge glow effect */}\r\n            <div className=\"absolute inset-0 bg-gradient-to-r from-amber-500/10 via-yellow-500/10 to-orange-500/10 animate-pulse\" />\r\n            \r\n            <div className=\"relative z-10\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <div className=\"flex items-center space-x-3\">\r\n                  <motion.div\r\n                    className=\"text-3xl\"\r\n                    animate={{ scale: [1, 1.1, 1] }}\r\n                    transition={{ duration: 2, repeat: Infinity }}\r\n                  >\r\n                    {config.avatar}\r\n                  </motion.div>\r\n                  <div>\r\n                    <h4 className={`font-black text-lg ${config.colors.primary}`}>\r\n                      {config.name}\r\n                    </h4>\r\n                    <p className=\"text-amber-300 text-sm font-medium\">{config.title}</p>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className={`flex items-center space-x-3 px-4 py-2 rounded-xl font-bold text-sm border-2 ${\r\n                  message.data.should_continue \r\n                    ? 'bg-green-500/20 text-green-300 border-green-500/40' \r\n                    : 'bg-red-500/20 text-red-300 border-red-500/40'\r\n                }`}>\r\n                  {message.data.should_continue ? (\r\n                    <>\r\n                      <CheckCircleIcon className=\"h-5 w-5\" />\r\n                      <span>Continue Debate</span>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <XCircleIcon className=\"h-5 w-5\" />\r\n                      <span>Conclude Debate</span>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"bg-slate-900/50 backdrop-blur-sm rounded-2xl p-5 border border-slate-600/30\">\r\n                <div className=\"flex items-start space-x-3\">\r\n                  <div className=\"w-1 h-20 bg-gradient-to-b from-amber-400 to-yellow-400 rounded-full\" />\r\n                  <div className=\"flex-1\">\r\n                    <p className=\"text-amber-400 font-bold mb-2\">Judicial Analysis:</p>\r\n                    <p className=\"text-slate-200 leading-relaxed font-medium\">\r\n                      {message.data.reasoning}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"mt-4 text-center\">\r\n                <span className=\"text-amber-300 text-sm font-medium bg-amber-500/20 px-3 py-1 rounded-full\">\r\n                  Post-Round {message.data.round_count} Decision\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20, x: agentType === 'innovator' || agentType === 'engineer' ? -30 : 30 }}\r\n      animate={{ opacity: 1, y: 0, x: 0 }}\r\n      transition={{ duration: 0.6, type: \"spring\", stiffness: 100 }}\r\n      className={`flex ${agentType === 'innovator' || agentType === 'engineer' ? 'justify-start' : 'justify-end'} mb-6`}\r\n    >\r\n      <div className={`max-w-3xl ${agentType === 'innovator' || agentType === 'engineer' ? 'mr-12' : 'ml-12'}`}>\r\n        <div className={`${config.colors.bg} backdrop-blur-sm rounded-2xl p-6 border-2 ${config.colors.border} relative overflow-hidden group`}>\r\n          {/* Message glow effect */}\r\n          <div className=\"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500\" />\r\n          \r\n          <div className=\"relative z-10\">\r\n            {/* Agent Header */}\r\n            <div className={`flex items-center space-x-3 mb-4 ${agentType === 'skeptic' || agentType === 'ethicist' ? 'flex-row-reverse space-x-reverse' : ''}`}>\r\n              <motion.div\r\n                className=\"text-2xl\"\r\n                animate={isTyping ? { scale: [1, 1.2, 1] } : {}}\r\n                transition={{ duration: 0.8, repeat: isTyping ? Infinity : 0 }}\r\n              >\r\n                {config.avatar}\r\n              </motion.div>\r\n              <div className={`${agentType === 'skeptic' || agentType === 'ethicist' ? 'text-right' : ''}`}>\r\n                <h4 className={`font-black text-lg ${config.colors.primary}`}>\r\n                  {config.name}\r\n                </h4>\r\n                <p className={`text-sm font-medium ${config.colors.primary.replace('400', '300')}`}>\r\n                  {config.title}\r\n                </p>\r\n              </div>\r\n              <div className=\"flex items-center space-x-2\">\r\n                <span className=\"text-xs text-slate-400 bg-slate-800/50 px-2 py-1 rounded-full\">\r\n                  Round {message.data?.round || 1}\r\n                </span>\r\n                <div className={`w-2 h-2 ${config.colors.primary.replace('text-', 'bg-')} rounded-full animate-pulse`} />\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Message Content */}\r\n            <div className=\"bg-slate-900/40 backdrop-blur-sm rounded-xl p-5 border border-slate-600/20\">\r\n              {isTyping ? (\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex space-x-1\">\r\n                    {[0, 1, 2].map(i => (\r\n                      <motion.div\r\n                        key={i}\r\n                        className={`w-2 h-2 ${config.colors.primary.replace('text-', 'bg-')} rounded-full`}\r\n                        animate={{ scale: [1, 1.5, 1], opacity: [0.5, 1, 0.5] }}\r\n                        transition={{\r\n                          duration: 1,\r\n                          repeat: Infinity,\r\n                          delay: i * 0.2\r\n                        }}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                  <p className=\"text-slate-400 text-sm italic\">Formulating response...</p>\r\n                </div>\r\n              ) : (\r\n                <p className=\"text-slate-200 leading-relaxed font-medium text-base\">\r\n                  {message.data?.content}\r\n                </p>\r\n              )}\r\n            </div>\r\n            \r\n            {/* Timestamp */}\r\n            <div className={`mt-3 ${agentType === 'skeptic' || agentType === 'ethicist' ? 'text-right' : 'text-left'}`}>\r\n              <span className=\"text-xs text-slate-500\">\r\n                {message.data?.timestamp ? new Date(message.data.timestamp).toLocaleTimeString() : 'Now'}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nconst RoundSeparator = ({ round, isActive = false }) => (\r\n  <motion.div\r\n    initial={{ opacity: 0, scale: 0.8 }}\r\n    animate={{ opacity: 1, scale: 1 }}\r\n    className=\"flex justify-center my-12\"\r\n  >\r\n    <div className={`relative ${isActive ? 'animate-pulse' : ''}`}>\r\n      <div className={`bg-gradient-to-r ${isActive ? 'from-purple-500/30 to-pink-500/30' : 'from-slate-700/50 to-slate-600/50'} backdrop-blur-sm rounded-2xl px-8 py-4 border-2 ${isActive ? 'border-purple-500/50' : 'border-slate-600/50'}`}>\r\n        <div className=\"flex items-center space-x-4\">\r\n          <motion.div\r\n            className={`w-4 h-4 rounded-full ${isActive ? 'bg-purple-400' : 'bg-slate-400'}`}\r\n            animate={isActive ? { scale: [1, 1.3, 1] } : {}}\r\n            transition={{ duration: 1, repeat: Infinity }}\r\n          />\r\n          <span className={`font-black text-xl ${isActive ? 'text-purple-300' : 'text-slate-400'}`}>\r\n            Round {round}\r\n          </span>\r\n          {isActive && (\r\n            <motion.span\r\n              className=\"text-purple-400 text-sm font-bold bg-purple-500/20 px-3 py-1 rounded-full\"\r\n              animate={{ opacity: [0.7, 1, 0.7] }}\r\n              transition={{ duration: 2, repeat: Infinity }}\r\n            >\r\n              Live\r\n            </motion.span>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {isActive && (\r\n        <motion.div\r\n          className=\"absolute inset-0 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-2xl blur-xl\"\r\n          animate={{ \r\n            scale: [1, 1.1, 1],\r\n            opacity: [0.5, 0.8, 0.5]\r\n          }}\r\n          transition={{ duration: 2, repeat: Infinity }}\r\n        />\r\n      )}\r\n    </div>\r\n  </motion.div>\r\n);\r\n\r\nconst DebateInterface = () => {\r\n  const [query, setQuery] = useState('');\r\n  const [sessionId] = useState(() => `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`);\r\n  const [debateState, setDebateState] = useState({\r\n    status: 'idle',\r\n    researchBrief: null,\r\n    agentMessages: [],\r\n    judgeDecisions: [],\r\n    finalReport: null,\r\n    currentRound: 0,\r\n    activeAgents: new Set(),\r\n    startTime: null\r\n  });\r\n\r\n  const messagesEndRef = useRef(null);\r\n  const processedMessagesCount = useRef(0);\r\n\r\n  const { isConnected, messages, sendMessage, clearMessages, connectionStatus } = useWebSocket(\r\n    `ws://localhost:8000/debate/${sessionId}`\r\n  );\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [debateState.agentMessages, debateState.finalReport]);\r\n\r\n  // Process messages similar to your original implementation\r\n  useEffect(() => {\r\n    const newMessages = messages.slice(processedMessagesCount.current);\r\n    if (newMessages.length === 0) return;\r\n\r\n    setDebateState(prev => {\r\n      const newState = { \r\n        ...prev,\r\n        agentMessages: [...prev.agentMessages],\r\n        judgeDecisions: [...prev.judgeDecisions],\r\n      };\r\n\r\n      newMessages.forEach(message => {\r\n        const messageExists = \r\n          newState.agentMessages.some(m => m.id === message.id) ||\r\n          newState.judgeDecisions.some(d => d.id === message.id);\r\n        \r\n        if (messageExists) return;\r\n\r\n        switch (message.type) {\r\n          case 'research_complete':\r\n            newState.status = 'research_complete';\r\n            newState.researchBrief = message.data.brief;\r\n            break;\r\n          case 'agent_response':\r\n            newState.status = 'debating';\r\n            newState.agentMessages.push(message);\r\n            newState.currentRound = Math.max(newState.currentRound, message.data.round || 1);\r\n            newState.activeAgents = new Set();\r\n            break;\r\n          case 'judge_decision':\r\n            newState.status = 'judge_deciding';\r\n            newState.judgeDecisions.push(message);\r\n            break;\r\n          case 'final_report':\r\n            newState.status = 'complete';\r\n            newState.finalReport = message.data;\r\n            break;\r\n          case 'debate_complete':\r\n            newState.status = 'complete';\r\n            break;\r\n          case 'error':\r\n            console.error('Debate error:', message.message);\r\n            newState.status = 'error';\r\n            break;\r\n          default:\r\n            if (message.type === 'round_start') {\r\n              newState.currentRound = message.data.round;\r\n              newState.status = 'debating';\r\n            }\r\n            break;\r\n        }\r\n      });\r\n      \r\n      return newState;\r\n    });\r\n\r\n    processedMessagesCount.current = messages.length;\r\n  }, [messages]);\r\n\r\n  const startDebate = () => {\r\n    if (!query.trim() || !isConnected) return;\r\n    \r\n    clearMessages();\r\n    processedMessagesCount.current = 0;\r\n    setDebateState({\r\n      status: 'starting',\r\n      researchBrief: null,\r\n      agentMessages: [],\r\n      judgeDecisions: [],\r\n      finalReport: null,\r\n      currentRound: 0,\r\n      activeAgents: new Set(['researcher']),\r\n      startTime: new Date()\r\n    });\r\n\r\n    const success = sendMessage({\r\n      type: 'start_debate',\r\n      query: query\r\n    });\r\n\r\n    if (success) {\r\n      setDebateState(prev => ({ ...prev, status: 'researching' }));\r\n    }\r\n  };\r\n\r\n  const resetDebate = () => {\r\n    setQuery('');\r\n    clearMessages();\r\n    processedMessagesCount.current = 0;\r\n    setDebateState({\r\n      status: 'idle',\r\n      researchBrief: null,\r\n      agentMessages: [],\r\n      judgeDecisions: [],\r\n      finalReport: null,\r\n      currentRound: 0,\r\n      activeAgents: new Set(),\r\n      startTime: null\r\n    });\r\n  };\r\n\r\n  // Combine and sort all debate messages chronologically\r\n  const getAllDebateMessages = () => {\r\n    const allMessages = [];\r\n    \r\n    // Add agent messages\r\n    debateState.agentMessages.forEach(msg => {\r\n      allMessages.push({...msg, sortOrder: new Date(msg.data.timestamp).getTime()});\r\n    });\r\n    \r\n    // Add judge decisions\r\n    debateState.judgeDecisions.forEach(msg => {\r\n      allMessages.push({...msg, sortOrder: new Date(msg.data.timestamp || Date.now()).getTime()});\r\n    });\r\n    \r\n    return allMessages.sort((a, b) => a.sortOrder - b.sortOrder);\r\n  };\r\n\r\n  const groupMessagesByRound = (messages) => {\r\n    const rounds = {};\r\n    messages.forEach(msg => {\r\n      const round = msg.data?.round || (msg.type === 'judge_decision' ? msg.data?.round_count : 1);\r\n      if (!rounds[round]) {\r\n        rounds[round] = [];\r\n      }\r\n      rounds[round].push(msg);\r\n    });\r\n    return rounds;\r\n  };\r\n\r\n  const allDebateMessages = getAllDebateMessages();\r\n  const roundGroups = groupMessagesByRound(allDebateMessages);\r\n  const sortedRounds = Object.keys(roundGroups).sort((a, b) => parseInt(a) - parseInt(b));\r\n  const isDebateActive = ['starting', 'researching', 'research_complete', 'debating', 'judge_deciding', 'moderating'].includes(debateState.status);\r\n\r\n  const getStatusConfig = () => {\r\n    const configs = {\r\n      idle: { \r\n        message: 'Ready to unleash the power of AI debate', \r\n        color: 'text-slate-700',\r\n        bgColor: 'bg-gradient-to-r from-slate-100 to-gray-100',\r\n        borderColor: 'border-slate-300',\r\n        icon: 'ðŸ§ ',\r\n        glow: 'shadow-slate-200/50'\r\n      },\r\n      starting: { \r\n        message: 'Initializing neural debate matrix...', \r\n        color: 'text-cyan-700',\r\n        bgColor: 'bg-gradient-to-r from-cyan-100 to-blue-100',\r\n        borderColor: 'border-cyan-300',\r\n        icon: 'âš¡',\r\n        glow: 'shadow-cyan-300/60'\r\n      },\r\n      researching: { \r\n        message: 'AI researcher scanning global knowledge...', \r\n        color: 'text-blue-700',\r\n        bgColor: 'bg-gradient-to-r from-blue-100 to-indigo-100',\r\n        borderColor: 'border-blue-300',\r\n        icon: 'ðŸ”',\r\n        glow: 'shadow-blue-300/60'\r\n      },\r\n      research_complete: { \r\n        message: 'Knowledge acquired. Experts awakening...', \r\n        color: 'text-emerald-700',\r\n        bgColor: 'bg-gradient-to-r from-emerald-100 to-green-100',\r\n        borderColor: 'border-emerald-300',\r\n        icon: 'âœ¨',\r\n        glow: 'shadow-emerald-300/60'\r\n      },\r\n      debating: { \r\n        message: `Round ${debateState.currentRound} â€¢ Neural combat engaged`, \r\n        color: 'text-purple-700',\r\n        bgColor: 'bg-gradient-to-r from-purple-100 to-pink-100',\r\n        borderColor: 'border-purple-300',\r\n        icon: 'ðŸŽ¯',\r\n        glow: 'shadow-purple-300/60'\r\n      },\r\n      judge_deciding: { \r\n        message: 'Supreme Judge evaluating neural patterns...', \r\n        color: 'text-amber-700',\r\n        bgColor: 'bg-gradient-to-r from-amber-100 to-orange-100',\r\n        borderColor: 'border-amber-300',\r\n        icon: 'âš–ï¸',\r\n        glow: 'shadow-amber-300/60'\r\n      },\r\n      complete: { \r\n        message: 'Debate matrix complete â€¢ Insights extracted', \r\n        color: 'text-emerald-700',\r\n        bgColor: 'bg-gradient-to-r from-emerald-100 to-green-100',\r\n        borderColor: 'border-emerald-300',\r\n        icon: 'ðŸŽ‰',\r\n        glow: 'shadow-emerald-300/60'\r\n      },\r\n      error: { \r\n        message: 'Neural network disruption detected', \r\n        color: 'text-red-700',\r\n        bgColor: 'bg-gradient-to-r from-red-100 to-pink-100',\r\n        borderColor: 'border-red-300',\r\n        icon: 'âš ï¸',\r\n        glow: 'shadow-red-300/60'\r\n      }\r\n    };\r\n    return configs[debateState.status] || configs.idle;\r\n  };\r\n\r\n  const statusConfig = getStatusConfig();\r\n\r\n  const getConnectionStatusConfig = () => {\r\n    const configs = {\r\n      connected: { \r\n        color: 'bg-emerald-500', \r\n        text: 'Neural Link Active', \r\n        textColor: 'text-emerald-800',\r\n        bgColor: 'bg-emerald-50',\r\n        borderColor: 'border-emerald-200' \r\n      },\r\n      connecting: { \r\n        color: 'bg-amber-500', \r\n        text: 'Establishing Link...', \r\n        textColor: 'text-amber-800',\r\n        bgColor: 'bg-amber-50',\r\n        borderColor: 'border-amber-200' \r\n      },\r\n      reconnecting: { \r\n        color: 'bg-amber-500', \r\n        text: 'Reconnecting Neural Link...', \r\n        textColor: 'text-amber-800',\r\n        bgColor: 'bg-amber-50',\r\n        borderColor: 'border-amber-200' \r\n      },\r\n      disconnected: { \r\n        color: 'bg-red-500', \r\n        text: 'Neural Link Offline', \r\n        textColor: 'text-red-800',\r\n        bgColor: 'bg-red-50',\r\n        borderColor: 'border-red-200' \r\n      },\r\n      error: { \r\n        color: 'bg-red-500', \r\n        text: 'Connection Error', \r\n        textColor: 'text-red-800',\r\n        bgColor: 'bg-red-50',\r\n        borderColor: 'border-red-200' \r\n      },\r\n      failed: { \r\n        color: 'bg-red-500', \r\n        text: 'Link Failed', \r\n        textColor: 'text-red-800',\r\n        bgColor: 'bg-red-50',\r\n        borderColor: 'border-red-200' \r\n      }\r\n    };\r\n    return configs[connectionStatus] || configs.disconnected;\r\n  };\r\n\r\n  const connectionConfig = getConnectionStatusConfig();\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative overflow-hidden\">\r\n      {/* Animated Background Elements */}\r\n      <div className=\"absolute inset-0 overflow-hidden\">\r\n        <div className=\"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob\"></div>\r\n        <div className=\"absolute -bottom-40 -left-40 w-80 h-80 bg-cyan-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000\"></div>\r\n        <div className=\"absolute top-40 left-1/2 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000\"></div>\r\n        \r\n        {/* Neural Network Grid */}\r\n        <div className=\"absolute inset-0 bg-gradient-to-br from-transparent via-cyan-500/5 to-transparent\"></div>\r\n        <div className=\"absolute inset-0\" style={{\r\n          backgroundImage: `radial-gradient(circle at 1px 1px, rgba(99, 102, 241, 0.1) 1px, transparent 0)`,\r\n          backgroundSize: '20px 20px'\r\n        }}></div>\r\n      </div>\r\n\r\n      <div className=\"relative z-10 max-w-7xl mx-auto p-6 space-y-8\">\r\n        \r\n        {/* Header */}\r\n        <motion.div \r\n          initial={{ opacity: 0, y: -30 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.8, ease: \"easeOut\" }}\r\n          className=\"text-center py-12\"\r\n        >\r\n          <div className=\"relative\">\r\n            <motion.h1 \r\n              className=\"text-7xl md:text-8xl font-black bg-gradient-to-r from-cyan-400 via-purple-400 to-pink-400 bg-clip-text text-transparent mb-4 tracking-tight\"\r\n              initial={{ scale: 0.9, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              transition={{ duration: 1, ease: \"easeOut\" }}\r\n            >\r\n              Chimera\r\n            </motion.h1>\r\n            \r\n            <motion.div\r\n              className=\"absolute -top-4 -right-4 text-4xl\"\r\n              animate={{ \r\n                rotate: [0, 10, -10, 0],\r\n                scale: [1, 1.1, 1]\r\n              }}\r\n              transition={{ \r\n                duration: 2,\r\n                repeat: Infinity,\r\n                ease: \"easeInOut\"\r\n              }}\r\n            >\r\n              âš¡\r\n            </motion.div>\r\n          </div>\r\n          \r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.5, duration: 0.6 }}\r\n            className=\"space-y-4\"\r\n          >\r\n            <p className=\"text-2xl md:text-3xl text-slate-300 font-bold tracking-wide\">\r\n              Neural Multi-Agent Debate System\r\n            </p>\r\n            <p className=\"text-lg text-slate-400 max-w-2xl mx-auto leading-relaxed\">\r\n              Unleash the collective intelligence of AI experts in epic debates that reshape understanding\r\n            </p>\r\n            \r\n            <div className=\"flex items-center justify-center space-x-6 mt-6\">\r\n              <div className=\"flex items-center space-x-2 text-cyan-400\">\r\n                <SparklesIcon className=\"h-5 w-5\" />\r\n                <span className=\"text-sm font-medium\">AI-Powered</span>\r\n              </div>\r\n              <div className=\"flex items-center space-x-2 text-purple-400\">\r\n                <BoltIcon className=\"h-5 w-5\" />\r\n                <span className=\"text-sm font-medium\">Real-Time</span>\r\n              </div>\r\n              <div className=\"flex items-center space-x-2 text-pink-400\">\r\n                <RocketLaunchIcon className=\"h-5 w-5\" />\r\n                <span className=\"text-sm font-medium\">Cutting-Edge</span>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        </motion.div>\r\n\r\n        {/* Query Input Section */}\r\n        <motion.div \r\n          initial={{ opacity: 0, y: 30 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.3, duration: 0.8 }}\r\n          className=\"relative\"\r\n        >\r\n          <div className=\"bg-gradient-to-r from-slate-800/80 via-slate-900/90 to-slate-800/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-slate-700/50 p-8\">\r\n            <div className=\"absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-purple-500/10 to-pink-500/10 rounded-3xl blur-xl\"></div>\r\n            \r\n            <div className=\"relative space-y-6\">\r\n              <div className=\"flex flex-col lg:flex-row gap-4\">\r\n                <div className=\"flex-1 relative group\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={query}\r\n                    onChange={(e) => setQuery(e.target.value)}\r\n                    placeholder=\"Enter your complex question or debate topic...\"\r\n                    className=\"w-full p-6 pl-16 bg-gradient-to-r from-slate-900/50 to-slate-800/50 border-2 border-slate-600/50 rounded-2xl focus:ring-4 focus:ring-purple-500/30 focus:border-purple-500/50 transition-all duration-300 text-white placeholder-slate-400 text-lg font-medium backdrop-blur-sm group-hover:border-slate-500/70\"\r\n                    disabled={isDebateActive}\r\n                    onKeyPress={(e) => e.key === 'Enter' && !isDebateActive && startDebate()}\r\n                  />\r\n                  <div className=\"absolute left-6 top-1/2 transform -translate-y-1/2 text-slate-400 group-hover:text-cyan-400 transition-colors duration-300\">\r\n                    <motion.div\r\n                      animate={{ scale: [1, 1.1, 1] }}\r\n                      transition={{ duration: 2, repeat: Infinity, ease: \"easeInOut\" }}\r\n                    >\r\n                      ðŸ§ \r\n                    </motion.div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"flex space-x-4\">\r\n                  <motion.button\r\n                    whileHover={{ scale: 1.02, boxShadow: \"0 20px 40px -12px rgba(139, 92, 246, 0.3)\" }}\r\n                    whileTap={{ scale: 0.98 }}\r\n                    onClick={startDebate}\r\n                    disabled={!query.trim() || !isConnected || isDebateActive}\r\n                    className=\"px-8 py-6 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-2xl hover:from-purple-700 hover:to-pink-700 disabled:from-slate-600 disabled:to-slate-700 disabled:cursor-not-allowed transition-all duration-300 flex items-center space-x-3 font-bold text-lg shadow-xl border border-purple-500/50\"\r\n                  >\r\n                    {isDebateActive ? (\r\n                      <>\r\n                        <motion.div\r\n                          animate={{ rotate: 360 }}\r\n                          transition={{ duration: 1, repeat: Infinity, ease: \"linear\" }}\r\n                        >\r\n                          <PauseIcon className=\"h-6 w-6\" />\r\n                        </motion.div>\r\n                        <span>Neural Active</span>\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <PlayIcon className=\"h-6 w-6\" />\r\n                        <span>Ignite Debate</span>\r\n                      </>\r\n                    )}\r\n                  </motion.button>\r\n                  \r\n                  <motion.button\r\n                    whileHover={{ scale: 1.02 }}\r\n                    whileTap={{ scale: 0.98 }}\r\n                    onClick={resetDebate}\r\n                    disabled={isDebateActive}\r\n                    className=\"px-6 py-6 bg-gradient-to-r from-slate-700 to-slate-800 text-slate-300 rounded-2xl hover:from-slate-600 hover:to-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center space-x-3 font-semibold shadow-xl border border-slate-600/50\"\r\n                  >\r\n                    <ArrowPathIcon className=\"h-6 w-6\" />\r\n                    <span>Reset</span>\r\n                  </motion.button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n\r\n        {/* Status Bar */}\r\n        <motion.div \r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          transition={{ delay: 0.6, duration: 0.6 }}\r\n          className=\"flex flex-col sm:flex-row items-center justify-between gap-4\"\r\n        >\r\n          <motion.div \r\n            className={`inline-flex items-center px-6 py-3 rounded-2xl font-bold text-sm border-2 backdrop-blur-sm ${statusConfig.bgColor} ${statusConfig.color} ${statusConfig.borderColor} ${statusConfig.glow} shadow-xl`}\r\n            animate={{ \r\n              boxShadow: isDebateActive ? \r\n                [\"0 0 20px rgba(139, 92, 246, 0.3)\", \"0 0 40px rgba(139, 92, 246, 0.5)\", \"0 0 20px rgba(139, 92, 246, 0.3)\"] :\r\n                \"0 0 20px rgba(0, 0, 0, 0.1)\"\r\n            }}\r\n            transition={{ duration: 2, repeat: Infinity }}\r\n          >\r\n            <motion.span \r\n              className=\"mr-3 text-lg\"\r\n              animate={isDebateActive ? { \r\n                scale: [1, 1.2, 1],\r\n                rotate: [0, 5, -5, 0]\r\n              } : {}}\r\n              transition={{ duration: 1, repeat: Infinity }}\r\n            >\r\n              {statusConfig.icon}\r\n            </motion.span>\r\n            {statusConfig.message}\r\n          </motion.div>\r\n          \r\n          <motion.div \r\n            className={`inline-flex items-center px-4 py-2 rounded-xl text-sm font-bold border-2 backdrop-blur-sm ${connectionConfig.bgColor} ${connectionConfig.textColor} ${connectionConfig.borderColor} shadow-lg`}\r\n            animate={{ opacity: [0.8, 1, 0.8] }}\r\n            transition={{ duration: 2, repeat: Infinity }}\r\n          >\r\n            <motion.div \r\n              className={`w-3 h-3 rounded-full mr-3 ${connectionConfig.color}`}\r\n              animate={connectionStatus === 'connecting' || connectionStatus === 'reconnecting' ? \r\n                { scale: [1, 1.3, 1] } : {}\r\n              }\r\n              transition={{ duration: 0.8, repeat: Infinity }}\r\n            />\r\n            {connectionConfig.text}\r\n          </motion.div>\r\n        </motion.div>\r\n\r\n        {/* Research Phase - Keep Original */}\r\n        <AnimatePresence>\r\n          {(debateState.status === 'researching' || debateState.researchBrief) && (\r\n            <ResearchPanel \r\n              researchBrief={debateState.researchBrief} \r\n              isLoading={debateState.status === 'researching'}\r\n            />\r\n          )}\r\n        </AnimatePresence>\r\n\r\n        {/* NEW: Chat-Style Debate Section */}\r\n        <AnimatePresence>\r\n          {allDebateMessages.length > 0 && (\r\n            <motion.div \r\n              initial={{ opacity: 0, y: 30 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ delay: 0.2, duration: 0.8 }}\r\n            >\r\n              {/* Participants Bar */}\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"bg-slate-800/50 backdrop-blur-sm rounded-2xl p-4 mb-8 border border-slate-700/50\"\r\n              >\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center space-x-6\">\r\n                    <span className=\"text-slate-400 font-medium\">Active Neural Agents:</span>\r\n                    {['innovator', 'skeptic', 'engineer', 'ethicist'].map(agent => {\r\n                      const config = getAgentConfig(agent);\r\n                      return (\r\n                        <motion.div\r\n                          key={agent}\r\n                          className={`flex items-center space-x-2 px-3 py-2 rounded-xl border-2 ${config.colors.border} ${config.colors.accent} backdrop-blur-sm`}\r\n                          whileHover={{ scale: 1.05 }}\r\n                        >\r\n                          <span className=\"text-lg\">{config.avatar}</span>\r\n                          <span className={`text-sm font-bold ${config.colors.primary}`}>\r\n                            {config.name}\r\n                          </span>\r\n                        </motion.div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <span className=\"text-slate-400 text-sm\">Round</span>\r\n                    <span className=\"bg-purple-500/20 text-purple-400 font-bold px-3 py-1 rounded-full\">\r\n                      {debateState.currentRound}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n\r\n              {/* Chat Container */}\r\n              <div className=\"bg-slate-800/30 backdrop-blur-sm rounded-3xl border border-slate-700/50 overflow-hidden mb-8\">\r\n                <div className=\"h-[800px] overflow-y-auto p-6 space-y-2 custom-scrollbar\">\r\n                  {sortedRounds.map(round => (\r\n                    <div key={round}>\r\n                      <RoundSeparator \r\n                        round={parseInt(round)} \r\n                        isActive={parseInt(round) === debateState.currentRound && debateState.status === 'debating'}\r\n                      />\r\n                      <AnimatePresence>\r\n                        {roundGroups[round]\r\n                          .sort((a, b) => new Date(a.data?.timestamp || 0) - new Date(b.data?.timestamp || 0))\r\n                          .map(message => (\r\n                            <ChatMessage key={message.id} message={message} />\r\n                          ))\r\n                        }\r\n                      </AnimatePresence>\r\n                    </div>\r\n                  ))}\r\n                  <div ref={messagesEndRef} />\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n\r\n        {/* Final Report */}\r\n        <AnimatePresence>\r\n           {debateState.finalReport && (\r\n             <FinalReport report={debateState.finalReport} />\r\n           )}\r\n        </AnimatePresence>\r\n\r\n        {/* Scroll marker */}\r\n        <div ref={messagesEndRef} />\r\n\r\n        {/* Futuristic Debug Panel */}\r\n        {process.env.NODE_ENV === 'development' && (\r\n          <motion.div \r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"bg-gradient-to-r from-slate-900/90 to-slate-800/90 backdrop-blur-xl text-cyan-400 p-6 rounded-2xl font-mono text-xs space-y-2 border border-slate-700/50 shadow-2xl\"\r\n          >\r\n            <div className=\"text-cyan-300 font-bold mb-3 flex items-center\">\r\n              <div className=\"w-2 h-2 bg-cyan-400 rounded-full mr-2 animate-pulse\"></div>\r\n              Neural Debug Console\r\n            </div>\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>Session: <span className=\"text-purple-400\">{sessionId}</span></div>\r\n              <div>Status: <span className=\"text-green-400\">{debateState.status}</span></div>\r\n              <div>Messages: <span className=\"text-yellow-400\">{messages.length}</span></div>\r\n              <div>Round: <span className=\"text-pink-400\">{debateState.currentRound}</span></div>\r\n              <div>Connection: <span className=\"text-blue-400\">{connectionStatus}</span></div>\r\n              <div>Agents: <span className=\"text-indigo-400\">{debateState.agentMessages.length}</span></div>\r\n            </div>\r\n            {debateState.startTime && (\r\n              <div className=\"text-center pt-2 border-t border-slate-700\">\r\n                Duration: <span className=\"text-emerald-400 font-bold\">\r\n                  {Math.round((new Date() - debateState.startTime) / 1000)}s\r\n                </span>\r\n              </div>\r\n            )}\r\n          </motion.div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Floating Particles Effect */}\r\n      <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\r\n        {[...Array(20)].map((_, i) => (\r\n          <motion.div\r\n            key={i}\r\n            className=\"absolute w-1 h-1 bg-cyan-400/30 rounded-full\"\r\n            initial={{ \r\n              x: Math.random() * window.innerWidth,\r\n              y: window.innerHeight + 10,\r\n              opacity: 0 \r\n            }}\r\n            animate={{ \r\n              y: -10,\r\n              opacity: [0, 1, 0],\r\n              scale: [0, 1, 0]\r\n            }}\r\n            transition={{\r\n              duration: Math.random() * 10 + 10,\r\n              repeat: Infinity,\r\n              delay: Math.random() * 5,\r\n              ease: \"easeOut\"\r\n            }}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DebateInterface;\r\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}